{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.splitIntoShards = splitIntoShards;\n  exports.reassembleShards = reassembleShards;\n  // File Sharding Service - Zero Knowledge Vault\n  // Splits encrypted files into 3 shards with no metadata\n\n  const SHARD_COUNT = 3;\n\n  // Simple UUID generator for React Native\n  function generateUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  }\n  /**\n   * Split encrypted data into 3 shards\n   * Each shard has a random UUID filename - no metadata preserved\n   */\n  function splitIntoShards(encryptedData) {\n    const dataLength = encryptedData.length;\n    const baseSize = Math.ceil(dataLength / SHARD_COUNT);\n    const shards = [];\n    for (let i = 0; i < SHARD_COUNT; i++) {\n      const start = i * baseSize;\n      const end = Math.min((i + 1) * baseSize, dataLength);\n      const chunk = encryptedData.substring(start, end);\n      shards.push({\n        id: generateUUID(),\n        // Random UUID - no relation to original file\n        data: chunk,\n        index: i\n      });\n    }\n    return shards;\n  }\n\n  /**\n   * Reassemble shards back into encrypted data\n   * Shards must be provided in correct order (by index)\n   */\n  function reassembleShards(shards) {\n    // Sort by index to ensure correct order\n    const sortedShards = [...shards].sort((a, b) => a.index - b.index);\n\n    // Validate we have all shards\n    if (sortedShards.length !== SHARD_COUNT) {\n      throw new Error(`Expected ${SHARD_COUNT} shards, got ${sortedShards.length}`);\n    }\n\n    // Validate indices are sequential\n    for (let i = 0; i < SHARD_COUNT; i++) {\n      if (sortedShards[i].index !== i) {\n        throw new Error(`Missing shard at index ${i}`);\n      }\n    }\n\n    // Concatenate data\n    return sortedShards.map(s => s.data).join('');\n  }\n});","lineCount":67,"map":[[7,2,25,0,"exports"],[7,9,25,0],[7,10,25,0,"splitIntoShards"],[7,25,25,0],[7,28,25,0,"splitIntoShards"],[7,43,25,0],[8,2,50,0,"exports"],[8,9,50,0],[8,10,50,0,"reassembleShards"],[8,26,50,0],[8,29,50,0,"reassembleShards"],[8,45,50,0],[9,2,1,0],[10,2,2,0],[12,2,4,0],[12,8,4,6,"SHARD_COUNT"],[12,19,4,17],[12,22,4,20],[12,23,4,21],[14,2,6,0],[15,2,7,0],[15,11,7,9,"generateUUID"],[15,23,7,21,"generateUUID"],[15,24,7,21],[15,26,7,32],[16,4,8,2],[16,11,8,9],[16,49,8,47],[16,50,8,48,"replace"],[16,57,8,55],[16,58,8,56],[16,65,8,63],[16,67,8,65],[16,77,8,74,"c"],[16,78,8,75],[16,80,8,77],[17,6,9,4],[17,12,9,10,"r"],[17,13,9,11],[17,16,9,14,"Math"],[17,20,9,18],[17,21,9,19,"random"],[17,27,9,25],[17,28,9,26],[17,29,9,27],[17,32,9,30],[17,34,9,32],[17,37,9,35],[17,38,9,36],[18,6,10,4],[18,12,10,10,"v"],[18,13,10,11],[18,16,10,14,"c"],[18,17,10,15],[18,22,10,20],[18,25,10,23],[18,28,10,26,"r"],[18,29,10,27],[18,32,10,31,"r"],[18,33,10,32],[18,36,10,35],[18,39,10,38],[18,42,10,41],[18,45,10,45],[19,6,11,4],[19,13,11,11,"v"],[19,14,11,12],[19,15,11,13,"toString"],[19,23,11,21],[19,24,11,22],[19,26,11,24],[19,27,11,25],[20,4,12,2],[20,5,12,3],[20,6,12,4],[21,2,13,0],[22,2,21,0],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,2,25,7],[26,11,25,16,"splitIntoShards"],[26,26,25,31,"splitIntoShards"],[26,27,25,32,"encryptedData"],[26,40,25,53],[26,42,25,64],[27,4,26,2],[27,10,26,8,"dataLength"],[27,20,26,18],[27,23,26,21,"encryptedData"],[27,36,26,34],[27,37,26,35,"length"],[27,43,26,41],[28,4,27,2],[28,10,27,8,"baseSize"],[28,18,27,16],[28,21,27,19,"Math"],[28,25,27,23],[28,26,27,24,"ceil"],[28,30,27,28],[28,31,27,29,"dataLength"],[28,41,27,39],[28,44,27,42,"SHARD_COUNT"],[28,55,27,53],[28,56,27,54],[29,4,29,2],[29,10,29,8,"shards"],[29,16,29,23],[29,19,29,26],[29,21,29,28],[30,4,31,2],[30,9,31,7],[30,13,31,11,"i"],[30,14,31,12],[30,17,31,15],[30,18,31,16],[30,20,31,18,"i"],[30,21,31,19],[30,24,31,22,"SHARD_COUNT"],[30,35,31,33],[30,37,31,35,"i"],[30,38,31,36],[30,40,31,38],[30,42,31,40],[31,6,32,4],[31,12,32,10,"start"],[31,17,32,15],[31,20,32,18,"i"],[31,21,32,19],[31,24,32,22,"baseSize"],[31,32,32,30],[32,6,33,4],[32,12,33,10,"end"],[32,15,33,13],[32,18,33,16,"Math"],[32,22,33,20],[32,23,33,21,"min"],[32,26,33,24],[32,27,33,25],[32,28,33,26,"i"],[32,29,33,27],[32,32,33,30],[32,33,33,31],[32,37,33,35,"baseSize"],[32,45,33,43],[32,47,33,45,"dataLength"],[32,57,33,55],[32,58,33,56],[33,6,34,4],[33,12,34,10,"chunk"],[33,17,34,15],[33,20,34,18,"encryptedData"],[33,33,34,31],[33,34,34,32,"substring"],[33,43,34,41],[33,44,34,42,"start"],[33,49,34,47],[33,51,34,49,"end"],[33,54,34,52],[33,55,34,53],[34,6,36,4,"shards"],[34,12,36,10],[34,13,36,11,"push"],[34,17,36,15],[34,18,36,16],[35,8,37,6,"id"],[35,10,37,8],[35,12,37,10,"generateUUID"],[35,24,37,22],[35,25,37,23],[35,26,37,24],[36,8,37,26],[37,8,38,6,"data"],[37,12,38,10],[37,14,38,12,"chunk"],[37,19,38,17],[38,8,39,6,"index"],[38,13,39,11],[38,15,39,13,"i"],[39,6,40,4],[39,7,40,5],[39,8,40,6],[40,4,41,2],[41,4,43,2],[41,11,43,9,"shards"],[41,17,43,15],[42,2,44,0],[44,2,46,0],[45,0,47,0],[46,0,48,0],[47,0,49,0],[48,2,50,7],[48,11,50,16,"reassembleShards"],[48,27,50,32,"reassembleShards"],[48,28,50,33,"shards"],[48,34,50,48],[48,36,50,58],[49,4,51,2],[50,4,52,2],[50,10,52,8,"sortedShards"],[50,22,52,20],[50,25,52,23],[50,26,52,24],[50,29,52,27,"shards"],[50,35,52,33],[50,36,52,34],[50,37,52,35,"sort"],[50,41,52,39],[50,42,52,40],[50,43,52,41,"a"],[50,44,52,42],[50,46,52,44,"b"],[50,47,52,45],[50,52,52,50,"a"],[50,53,52,51],[50,54,52,52,"index"],[50,59,52,57],[50,62,52,60,"b"],[50,63,52,61],[50,64,52,62,"index"],[50,69,52,67],[50,70,52,68],[52,4,54,2],[53,4,55,2],[53,8,55,6,"sortedShards"],[53,20,55,18],[53,21,55,19,"length"],[53,27,55,25],[53,32,55,30,"SHARD_COUNT"],[53,43,55,41],[53,45,55,43],[54,6,56,4],[54,12,56,10],[54,16,56,14,"Error"],[54,21,56,19],[54,22,56,20],[54,34,56,32,"SHARD_COUNT"],[54,45,56,43],[54,61,56,59,"sortedShards"],[54,73,56,71],[54,74,56,72,"length"],[54,80,56,78],[54,82,56,80],[54,83,56,81],[55,4,57,2],[57,4,59,2],[58,4,60,2],[58,9,60,7],[58,13,60,11,"i"],[58,14,60,12],[58,17,60,15],[58,18,60,16],[58,20,60,18,"i"],[58,21,60,19],[58,24,60,22,"SHARD_COUNT"],[58,35,60,33],[58,37,60,35,"i"],[58,38,60,36],[58,40,60,38],[58,42,60,40],[59,6,61,4],[59,10,61,8,"sortedShards"],[59,22,61,20],[59,23,61,21,"i"],[59,24,61,22],[59,25,61,23],[59,26,61,24,"index"],[59,31,61,29],[59,36,61,34,"i"],[59,37,61,35],[59,39,61,37],[60,8,62,6],[60,14,62,12],[60,18,62,16,"Error"],[60,23,62,21],[60,24,62,22],[60,50,62,48,"i"],[60,51,62,49],[60,53,62,51],[60,54,62,52],[61,6,63,4],[62,4,64,2],[64,4,66,2],[65,4,67,2],[65,11,67,9,"sortedShards"],[65,23,67,21],[65,24,67,22,"map"],[65,27,67,25],[65,28,67,26,"s"],[65,29,67,27],[65,33,67,31,"s"],[65,34,67,32],[65,35,67,33,"data"],[65,39,67,37],[65,40,67,38],[65,41,67,39,"join"],[65,45,67,43],[65,46,67,44],[65,48,67,46],[65,49,67,47],[66,2,68,0],[67,0,68,1],[67,3]],"functionMap":{"names":["<global>","generateUUID","xxxxxxxxXxxx4xxxYxxxXxxxxxxxxxxx.replace$argument_1","splitIntoShards","reassembleShards","sort$argument_0","sortedShards.map$argument_0"],"mappings":"AAA;ACM;iECC;GDI;CDC;OGY;CHmB;OIM;wCCE,2BD;0BEe,WF;CJC"},"hasCjsExports":false},"type":"js/module"}]}