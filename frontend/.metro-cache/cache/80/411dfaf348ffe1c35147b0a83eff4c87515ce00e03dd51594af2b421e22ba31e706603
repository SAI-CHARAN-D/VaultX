{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../auth/supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":156},"end":{"line":5,"column":69,"index":225}}],"key":"N6WSRy60K8929CSDB5Gy6caq2pI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.checkBucketAccess = checkBucketAccess;\n  exports.uploadShard = uploadShard;\n  exports.uploadAllShards = uploadAllShards;\n  exports.downloadShard = downloadShard;\n  exports.downloadAllShards = downloadAllShards;\n  exports.cleanupShards = cleanupShards;\n  exports.deleteDocumentShards = deleteDocumentShards;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _authSupabaseClient = require(_dependencyMap[1], \"../auth/supabaseClient\");\n  // Cloud Storage Service - Zero Knowledge Vault\n  // Uploads ONLY encrypted shards with random UUID filenames\n  // Server sees meaningless blobs - no metadata\n  /**\n   * Check if storage bucket is accessible by trying to list files\n   */\n  function checkBucketAccess() {\n    return _checkBucketAccess.apply(this, arguments);\n  }\n  /**\n   * Upload a single shard to Supabase Storage\n   * Filename is the random UUID - no relation to original file\n   */\n  function _checkBucketAccess() {\n    _checkBucketAccess = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        // Just try to list - this works with regular auth\n        var _yield$supabase$stora = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).list('', {\n            limit: 1\n          }),\n          data = _yield$supabase$stora.data,\n          error = _yield$supabase$stora.error;\n        if (error) {\n          console.error('Bucket access error:', error);\n          return {\n            success: false,\n            error: `Storage error: ${error.message}`\n          };\n        }\n        console.log('Bucket access OK');\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Bucket check exception:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return _checkBucketAccess.apply(this, arguments);\n  }\n  function uploadShard(_x, _x2) {\n    return _uploadShard.apply(this, arguments);\n  }\n  /**\n   * Upload all shards for a document\n   */\n  function _uploadShard() {\n    _uploadShard = (0, _asyncToGenerator.default)(function* (shard, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n\n        // Path: userId/shardUUID (user folder for RLS)\n        var filePath = `${userId}/${shard.id}`;\n        console.log(`Uploading shard ${shard.id} to ${filePath}, data length: ${shard.data.length}`);\n\n        // Convert string to ArrayBuffer for upload\n        var encoder = new TextEncoder();\n        var uint8Array = encoder.encode(shard.data);\n        var _yield$supabase$stora2 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).upload(filePath, uint8Array, {\n            contentType: 'application/octet-stream',\n            upsert: true\n          }),\n          data = _yield$supabase$stora2.data,\n          error = _yield$supabase$stora2.error;\n        if (error) {\n          console.error('Shard upload error:', JSON.stringify(error));\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        console.log(`Shard ${shard.id} uploaded successfully:`, data);\n        return {\n          success: true,\n          shardId: shard.id\n        };\n      } catch (error) {\n        console.error('Shard upload exception:', error);\n        return {\n          success: false,\n          error: error.message || 'Upload failed'\n        };\n      }\n    });\n    return _uploadShard.apply(this, arguments);\n  }\n  function uploadAllShards(_x3, _x4, _x5) {\n    return _uploadAllShards.apply(this, arguments);\n  }\n  /**\n   * Download a shard from Supabase Storage\n   */\n  function _uploadAllShards() {\n    _uploadAllShards = (0, _asyncToGenerator.default)(function* (shards, userId, onProgress) {\n      var shardIds = [];\n      console.log(`Starting upload of ${shards.length} shards for user ${userId}`);\n      for (var i = 0; i < shards.length; i++) {\n        var result = yield uploadShard(shards[i], userId);\n        if (!result.success) {\n          console.error(`Failed at shard ${i + 1}, cleaning up...`);\n          yield cleanupShards(shardIds, userId);\n          return {\n            success: false,\n            error: `Shard ${i + 1}/${shards.length} failed: ${result.error}`\n          };\n        }\n        shardIds.push(result.shardId);\n        onProgress?.(i + 1, shards.length);\n      }\n      console.log('All shards uploaded successfully:', shardIds);\n      return {\n        success: true,\n        shardIds\n      };\n    });\n    return _uploadAllShards.apply(this, arguments);\n  }\n  function downloadShard(_x6, _x7) {\n    return _downloadShard.apply(this, arguments);\n  }\n  /**\n   * Download all shards for a document\n   */\n  function _downloadShard() {\n    _downloadShard = (0, _asyncToGenerator.default)(function* (shardId, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePath = `${userId}/${shardId}`;\n        console.log(`Downloading shard from ${filePath}`);\n        var _yield$supabase$stora3 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).download(filePath),\n          data = _yield$supabase$stora3.data,\n          error = _yield$supabase$stora3.error;\n        if (error) {\n          console.error('Shard download error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        if (!data) {\n          return {\n            success: false,\n            error: 'No data received'\n          };\n        }\n\n        // Convert blob to string\n        var text = yield data.text();\n        console.log(`Shard ${shardId} downloaded, size: ${text.length}`);\n        return {\n          success: true,\n          data: text\n        };\n      } catch (error) {\n        console.error('Shard download exception:', error);\n        return {\n          success: false,\n          error: error.message || 'Download failed'\n        };\n      }\n    });\n    return _downloadShard.apply(this, arguments);\n  }\n  function downloadAllShards(_x8, _x9, _x0, _x1) {\n    return _downloadAllShards.apply(this, arguments);\n  }\n  /**\n   * Delete shards from storage\n   */\n  function _downloadAllShards() {\n    _downloadAllShards = (0, _asyncToGenerator.default)(function* (shardIds, indices, userId, onProgress) {\n      var shards = [];\n      console.log(`Starting download of ${shardIds.length} shards`);\n      for (var i = 0; i < shardIds.length; i++) {\n        var result = yield downloadShard(shardIds[i], userId);\n        if (!result.success) {\n          return {\n            success: false,\n            error: `Failed to download shard ${i + 1}: ${result.error}`\n          };\n        }\n        shards.push({\n          id: shardIds[i],\n          data: result.data,\n          index: indices[i]\n        });\n        onProgress?.(i + 1, shardIds.length);\n      }\n      console.log('All shards downloaded successfully');\n      return {\n        success: true,\n        shards\n      };\n    });\n    return _downloadAllShards.apply(this, arguments);\n  }\n  function cleanupShards(_x10, _x11) {\n    return _cleanupShards.apply(this, arguments);\n  }\n  /**\n   * Delete a document's shards\n   */\n  function _cleanupShards() {\n    _cleanupShards = (0, _asyncToGenerator.default)(function* (shardIds, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePaths = shardIds.map(id => `${userId}/${id}`);\n        yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths);\n      } catch (error) {\n        console.error('Failed to cleanup shards:', error);\n      }\n    });\n    return _cleanupShards.apply(this, arguments);\n  }\n  function deleteDocumentShards(_x12, _x13) {\n    return _deleteDocumentShards.apply(this, arguments);\n  }\n  function _deleteDocumentShards() {\n    _deleteDocumentShards = (0, _asyncToGenerator.default)(function* (shardIds, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePaths = shardIds.map(id => `${userId}/${id}`);\n        var _yield$supabase$stora4 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths),\n          error = _yield$supabase$stora4.error;\n        if (error) {\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        return {\n          success: true\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: error.message || 'Delete failed'\n        };\n      }\n    });\n    return _deleteDocumentShards.apply(this, arguments);\n  }\n});","lineCount":268,"map":[[12,2,17,0,"exports"],[12,9,17,0],[12,10,17,0,"checkBucketAccess"],[12,27,17,0],[12,30,17,0,"checkBucketAccess"],[12,47,17,0],[13,2,45,0,"exports"],[13,9,45,0],[13,10,45,0,"uploadShard"],[13,21,45,0],[13,24,45,0,"uploadShard"],[13,35,45,0],[14,2,84,0,"exports"],[14,9,84,0],[14,10,84,0,"uploadAllShards"],[14,25,84,0],[14,28,84,0,"uploadAllShards"],[14,43,84,0],[15,2,113,0,"exports"],[15,9,113,0],[15,10,113,0,"downloadShard"],[15,23,113,0],[15,26,113,0,"downloadShard"],[15,39,113,0],[16,2,150,0,"exports"],[16,9,150,0],[16,10,150,0,"downloadAllShards"],[16,27,150,0],[16,30,150,0,"downloadAllShards"],[16,47,150,0],[17,2,183,0,"exports"],[17,9,183,0],[17,10,183,0,"cleanupShards"],[17,23,183,0],[17,26,183,0,"cleanupShards"],[17,39,183,0],[18,2,199,0,"exports"],[18,9,199,0],[18,10,199,0,"deleteDocumentShards"],[18,30,199,0],[18,33,199,0,"deleteDocumentShards"],[18,53,199,0],[19,2,216,1],[19,6,216,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,216,1],[19,45,216,1,"require"],[19,52,216,1],[19,53,216,1,"_dependencyMap"],[19,67,216,1],[20,2,216,1],[20,6,216,1,"_asyncToGenerator"],[20,23,216,1],[20,26,216,1,"_interopDefault"],[20,41,216,1],[20,42,216,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,216,1],[21,2,5,0],[21,6,5,0,"_authSupabaseClient"],[21,25,5,0],[21,28,5,0,"require"],[21,35,5,0],[21,36,5,0,"_dependencyMap"],[21,50,5,0],[22,2,1,0],[23,2,2,0],[24,2,3,0],[25,2,14,0],[26,0,15,0],[27,0,16,0],[28,2,14,0],[28,11,17,22,"checkBucketAccess"],[28,28,17,39,"checkBucketAccess"],[28,29,17,39],[29,4,17,39],[29,11,17,39,"_checkBucketAccess"],[29,29,17,39],[29,30,17,39,"apply"],[29,35,17,39],[29,42,17,39,"arguments"],[29,51,17,39],[30,2,17,39],[31,2,41,0],[32,0,42,0],[33,0,43,0],[34,0,44,0],[35,2,41,0],[35,11,41,0,"_checkBucketAccess"],[35,30,41,0],[36,4,41,0,"_checkBucketAccess"],[36,22,41,0],[36,29,41,0,"_asyncToGenerator"],[36,46,41,0],[36,47,41,0,"default"],[36,54,41,0],[36,56,17,7],[36,69,17,89],[37,6,18,2],[37,10,18,6],[38,8,19,4],[38,12,19,10,"supabase"],[38,20,19,18],[38,23,19,21],[38,27,19,21,"getSupabase"],[38,46,19,32],[38,47,19,32,"getSupabase"],[38,58,19,32],[38,60,19,33],[38,61,19,34],[39,8,20,4],[40,8,21,4],[40,12,21,4,"_yield$supabase$stora"],[40,33,21,4],[40,42,21,34,"supabase"],[40,50,21,42],[40,51,21,43,"storage"],[40,58,21,50],[40,59,22,7,"from"],[40,63,22,11],[40,64,22,12,"STORAGE_BUCKET"],[40,83,22,26],[40,84,22,26,"STORAGE_BUCKET"],[40,98,22,26],[40,99,22,27],[40,100,23,7,"list"],[40,104,23,11],[40,105,23,12],[40,107,23,14],[40,109,23,16],[41,12,23,18,"limit"],[41,17,23,23],[41,19,23,25],[42,10,23,27],[42,11,23,28],[42,12,23,29],[43,10,21,12,"data"],[43,14,21,16],[43,17,21,16,"_yield$supabase$stora"],[43,38,21,16],[43,39,21,12,"data"],[43,43,21,16],[44,10,21,18,"error"],[44,15,21,23],[44,18,21,23,"_yield$supabase$stora"],[44,39,21,23],[44,40,21,18,"error"],[44,45,21,23],[45,8,25,4],[45,12,25,8,"error"],[45,17,25,13],[45,19,25,15],[46,10,26,6,"console"],[46,17,26,13],[46,18,26,14,"error"],[46,23,26,19],[46,24,26,20],[46,46,26,42],[46,48,26,44,"error"],[46,53,26,49],[46,54,26,50],[47,10,27,6],[47,17,27,13],[48,12,28,8,"success"],[48,19,28,15],[48,21,28,17],[48,26,28,22],[49,12,29,8,"error"],[49,17,29,13],[49,19,29,15],[49,37,29,33,"error"],[49,42,29,38],[49,43,29,39,"message"],[49,50,29,46],[50,10,30,6],[50,11,30,7],[51,8,31,4],[52,8,33,4,"console"],[52,15,33,11],[52,16,33,12,"log"],[52,19,33,15],[52,20,33,16],[52,38,33,34],[52,39,33,35],[53,8,34,4],[53,15,34,11],[54,10,34,13,"success"],[54,17,34,20],[54,19,34,22],[55,8,34,27],[55,9,34,28],[56,6,35,2],[56,7,35,3],[56,8,35,4],[56,15,35,11,"error"],[56,20,35,21],[56,22,35,23],[57,8,36,4,"console"],[57,15,36,11],[57,16,36,12,"error"],[57,21,36,17],[57,22,36,18],[57,47,36,43],[57,49,36,45,"error"],[57,54,36,50],[57,55,36,51],[58,8,37,4],[58,15,37,11],[59,10,37,13,"success"],[59,17,37,20],[59,19,37,22],[59,24,37,27],[60,10,37,29,"error"],[60,15,37,34],[60,17,37,36,"error"],[60,22,37,41],[60,23,37,42,"message"],[61,8,37,50],[61,9,37,51],[62,6,38,2],[63,4,39,0],[63,5,39,1],[64,4,39,1],[64,11,39,1,"_checkBucketAccess"],[64,29,39,1],[64,30,39,1,"apply"],[64,35,39,1],[64,42,39,1,"arguments"],[64,51,39,1],[65,2,39,1],[66,2,39,1],[66,11,45,22,"uploadShard"],[66,22,45,33,"uploadShard"],[66,23,45,33,"_x"],[66,25,45,33],[66,27,45,33,"_x2"],[66,30,45,33],[67,4,45,33],[67,11,45,33,"_uploadShard"],[67,23,45,33],[67,24,45,33,"apply"],[67,29,45,33],[67,36,45,33,"arguments"],[67,45,45,33],[68,2,45,33],[69,2,81,0],[70,0,82,0],[71,0,83,0],[72,2,81,0],[72,11,81,0,"_uploadShard"],[72,24,81,0],[73,4,81,0,"_uploadShard"],[73,16,81,0],[73,23,81,0,"_asyncToGenerator"],[73,40,81,0],[73,41,81,0,"default"],[73,48,81,0],[73,50,45,7],[73,61,46,2,"shard"],[73,66,46,14],[73,68,47,2,"userId"],[73,74,47,16],[73,76,48,25],[74,6,49,2],[74,10,49,6],[75,8,50,4],[75,12,50,10,"supabase"],[75,20,50,18],[75,23,50,21],[75,27,50,21,"getSupabase"],[75,46,50,32],[75,47,50,32,"getSupabase"],[75,58,50,32],[75,60,50,33],[75,61,50,34],[77,8,52,4],[78,8,53,4],[78,12,53,10,"filePath"],[78,20,53,18],[78,23,53,21],[78,26,53,24,"userId"],[78,32,53,30],[78,36,53,34,"shard"],[78,41,53,39],[78,42,53,40,"id"],[78,44,53,42],[78,46,53,44],[79,8,55,4,"console"],[79,15,55,11],[79,16,55,12,"log"],[79,19,55,15],[79,20,55,16],[79,39,55,35,"shard"],[79,44,55,40],[79,45,55,41,"id"],[79,47,55,43],[79,54,55,50,"filePath"],[79,62,55,58],[79,80,55,76,"shard"],[79,85,55,81],[79,86,55,82,"data"],[79,90,55,86],[79,91,55,87,"length"],[79,97,55,93],[79,99,55,95],[79,100,55,96],[81,8,57,4],[82,8,58,4],[82,12,58,10,"encoder"],[82,19,58,17],[82,22,58,20],[82,26,58,24,"TextEncoder"],[82,37,58,35],[82,38,58,36],[82,39,58,37],[83,8,59,4],[83,12,59,10,"uint8Array"],[83,22,59,20],[83,25,59,23,"encoder"],[83,32,59,30],[83,33,59,31,"encode"],[83,39,59,37],[83,40,59,38,"shard"],[83,45,59,43],[83,46,59,44,"data"],[83,50,59,48],[83,51,59,49],[84,8,61,4],[84,12,61,4,"_yield$supabase$stora2"],[84,34,61,4],[84,43,61,34,"supabase"],[84,51,61,42],[84,52,61,43,"storage"],[84,59,61,50],[84,60,62,7,"from"],[84,64,62,11],[84,65,62,12,"STORAGE_BUCKET"],[84,84,62,26],[84,85,62,26,"STORAGE_BUCKET"],[84,99,62,26],[84,100,62,27],[84,101,63,7,"upload"],[84,107,63,13],[84,108,63,14,"filePath"],[84,116,63,22],[84,118,63,24,"uint8Array"],[84,128,63,34],[84,130,63,36],[85,12,64,8,"contentType"],[85,23,64,19],[85,25,64,21],[85,51,64,47],[86,12,65,8,"upsert"],[86,18,65,14],[86,20,65,16],[87,10,66,6],[87,11,66,7],[87,12,66,8],[88,10,61,12,"data"],[88,14,61,16],[88,17,61,16,"_yield$supabase$stora2"],[88,39,61,16],[88,40,61,12,"data"],[88,44,61,16],[89,10,61,18,"error"],[89,15,61,23],[89,18,61,23,"_yield$supabase$stora2"],[89,40,61,23],[89,41,61,18,"error"],[89,46,61,23],[90,8,68,4],[90,12,68,8,"error"],[90,17,68,13],[90,19,68,15],[91,10,69,6,"console"],[91,17,69,13],[91,18,69,14,"error"],[91,23,69,19],[91,24,69,20],[91,45,69,41],[91,47,69,43,"JSON"],[91,51,69,47],[91,52,69,48,"stringify"],[91,61,69,57],[91,62,69,58,"error"],[91,67,69,63],[91,68,69,64],[91,69,69,65],[92,10,70,6],[92,17,70,13],[93,12,70,15,"success"],[93,19,70,22],[93,21,70,24],[93,26,70,29],[94,12,70,31,"error"],[94,17,70,36],[94,19,70,38,"error"],[94,24,70,43],[94,25,70,44,"message"],[95,10,70,52],[95,11,70,53],[96,8,71,4],[97,8,73,4,"console"],[97,15,73,11],[97,16,73,12,"log"],[97,19,73,15],[97,20,73,16],[97,29,73,25,"shard"],[97,34,73,30],[97,35,73,31,"id"],[97,37,73,33],[97,62,73,58],[97,64,73,60,"data"],[97,68,73,64],[97,69,73,65],[98,8,74,4],[98,15,74,11],[99,10,74,13,"success"],[99,17,74,20],[99,19,74,22],[99,23,74,26],[100,10,74,28,"shardId"],[100,17,74,35],[100,19,74,37,"shard"],[100,24,74,42],[100,25,74,43,"id"],[101,8,74,46],[101,9,74,47],[102,6,75,2],[102,7,75,3],[102,8,75,4],[102,15,75,11,"error"],[102,20,75,21],[102,22,75,23],[103,8,76,4,"console"],[103,15,76,11],[103,16,76,12,"error"],[103,21,76,17],[103,22,76,18],[103,47,76,43],[103,49,76,45,"error"],[103,54,76,50],[103,55,76,51],[104,8,77,4],[104,15,77,11],[105,10,77,13,"success"],[105,17,77,20],[105,19,77,22],[105,24,77,27],[106,10,77,29,"error"],[106,15,77,34],[106,17,77,36,"error"],[106,22,77,41],[106,23,77,42,"message"],[106,30,77,49],[106,34,77,53],[107,8,77,69],[107,9,77,70],[108,6,78,2],[109,4,79,0],[109,5,79,1],[110,4,79,1],[110,11,79,1,"_uploadShard"],[110,23,79,1],[110,24,79,1,"apply"],[110,29,79,1],[110,36,79,1,"arguments"],[110,45,79,1],[111,2,79,1],[112,2,79,1],[112,11,84,22,"uploadAllShards"],[112,26,84,37,"uploadAllShards"],[112,27,84,37,"_x3"],[112,30,84,37],[112,32,84,37,"_x4"],[112,35,84,37],[112,37,84,37,"_x5"],[112,40,84,37],[113,4,84,37],[113,11,84,37,"_uploadAllShards"],[113,27,84,37],[113,28,84,37,"apply"],[113,33,84,37],[113,40,84,37,"arguments"],[113,49,84,37],[114,2,84,37],[115,2,110,0],[116,0,111,0],[117,0,112,0],[118,2,110,0],[118,11,110,0,"_uploadAllShards"],[118,28,110,0],[119,4,110,0,"_uploadAllShards"],[119,20,110,0],[119,27,110,0,"_asyncToGenerator"],[119,44,110,0],[119,45,110,0,"default"],[119,52,110,0],[119,54,84,7],[119,65,85,2,"shards"],[119,71,85,17],[119,73,86,2,"userId"],[119,79,86,16],[119,81,87,2,"onProgress"],[119,91,87,55],[119,93,88,70],[120,6,89,2],[120,10,89,8,"shardIds"],[120,18,89,26],[120,21,89,29],[120,23,89,31],[121,6,91,2,"console"],[121,13,91,9],[121,14,91,10,"log"],[121,17,91,13],[121,18,91,14],[121,40,91,36,"shards"],[121,46,91,42],[121,47,91,43,"length"],[121,53,91,49],[121,73,91,69,"userId"],[121,79,91,75],[121,81,91,77],[121,82,91,78],[122,6,93,2],[122,11,93,7],[122,15,93,11,"i"],[122,16,93,12],[122,19,93,15],[122,20,93,16],[122,22,93,18,"i"],[122,23,93,19],[122,26,93,22,"shards"],[122,32,93,28],[122,33,93,29,"length"],[122,39,93,35],[122,41,93,37,"i"],[122,42,93,38],[122,44,93,40],[122,46,93,42],[123,8,94,4],[123,12,94,10,"result"],[123,18,94,16],[123,27,94,25,"uploadShard"],[123,38,94,36],[123,39,94,37,"shards"],[123,45,94,43],[123,46,94,44,"i"],[123,47,94,45],[123,48,94,46],[123,50,94,48,"userId"],[123,56,94,54],[123,57,94,55],[124,8,96,4],[124,12,96,8],[124,13,96,9,"result"],[124,19,96,15],[124,20,96,16,"success"],[124,27,96,23],[124,29,96,25],[125,10,97,6,"console"],[125,17,97,13],[125,18,97,14,"error"],[125,23,97,19],[125,24,97,20],[125,43,97,39,"i"],[125,44,97,40],[125,47,97,43],[125,48,97,44],[125,66,97,62],[125,67,97,63],[126,10,98,6],[126,16,98,12,"cleanupShards"],[126,29,98,25],[126,30,98,26,"shardIds"],[126,38,98,34],[126,40,98,36,"userId"],[126,46,98,42],[126,47,98,43],[127,10,99,6],[127,17,99,13],[128,12,99,15,"success"],[128,19,99,22],[128,21,99,24],[128,26,99,29],[129,12,99,31,"error"],[129,17,99,36],[129,19,99,38],[129,28,99,47,"i"],[129,29,99,48],[129,32,99,51],[129,33,99,52],[129,37,99,56,"shards"],[129,43,99,62],[129,44,99,63,"length"],[129,50,99,69],[129,62,99,81,"result"],[129,68,99,87],[129,69,99,88,"error"],[129,74,99,93],[130,10,99,96],[130,11,99,97],[131,8,100,4],[132,8,102,4,"shardIds"],[132,16,102,12],[132,17,102,13,"push"],[132,21,102,17],[132,22,102,18,"result"],[132,28,102,24],[132,29,102,25,"shardId"],[132,36,102,33],[132,37,102,34],[133,8,103,4,"onProgress"],[133,18,103,14],[133,21,103,17,"i"],[133,22,103,18],[133,25,103,21],[133,26,103,22],[133,28,103,24,"shards"],[133,34,103,30],[133,35,103,31,"length"],[133,41,103,37],[133,42,103,38],[134,6,104,2],[135,6,106,2,"console"],[135,13,106,9],[135,14,106,10,"log"],[135,17,106,13],[135,18,106,14],[135,53,106,49],[135,55,106,51,"shardIds"],[135,63,106,59],[135,64,106,60],[136,6,107,2],[136,13,107,9],[137,8,107,11,"success"],[137,15,107,18],[137,17,107,20],[137,21,107,24],[138,8,107,26,"shardIds"],[139,6,107,35],[139,7,107,36],[140,4,108,0],[140,5,108,1],[141,4,108,1],[141,11,108,1,"_uploadAllShards"],[141,27,108,1],[141,28,108,1,"apply"],[141,33,108,1],[141,40,108,1,"arguments"],[141,49,108,1],[142,2,108,1],[143,2,108,1],[143,11,113,22,"downloadShard"],[143,24,113,35,"downloadShard"],[143,25,113,35,"_x6"],[143,28,113,35],[143,30,113,35,"_x7"],[143,33,113,35],[144,4,113,35],[144,11,113,35,"_downloadShard"],[144,25,113,35],[144,26,113,35,"apply"],[144,31,113,35],[144,38,113,35,"arguments"],[144,47,113,35],[145,2,113,35],[146,2,147,0],[147,0,148,0],[148,0,149,0],[149,2,147,0],[149,11,147,0,"_downloadShard"],[149,26,147,0],[150,4,147,0,"_downloadShard"],[150,18,147,0],[150,25,147,0,"_asyncToGenerator"],[150,42,147,0],[150,43,147,0,"default"],[150,50,147,0],[150,52,113,7],[150,63,114,2,"shardId"],[150,70,114,17],[150,72,115,2,"userId"],[150,78,115,16],[150,80,116,64],[151,6,117,2],[151,10,117,6],[152,8,118,4],[152,12,118,10,"supabase"],[152,20,118,18],[152,23,118,21],[152,27,118,21,"getSupabase"],[152,46,118,32],[152,47,118,32,"getSupabase"],[152,58,118,32],[152,60,118,33],[152,61,118,34],[153,8,119,4],[153,12,119,10,"filePath"],[153,20,119,18],[153,23,119,21],[153,26,119,24,"userId"],[153,32,119,30],[153,36,119,34,"shardId"],[153,43,119,41],[153,45,119,43],[154,8,121,4,"console"],[154,15,121,11],[154,16,121,12,"log"],[154,19,121,15],[154,20,121,16],[154,46,121,42,"filePath"],[154,54,121,50],[154,56,121,52],[154,57,121,53],[155,8,123,4],[155,12,123,4,"_yield$supabase$stora3"],[155,34,123,4],[155,43,123,34,"supabase"],[155,51,123,42],[155,52,123,43,"storage"],[155,59,123,50],[155,60,124,7,"from"],[155,64,124,11],[155,65,124,12,"STORAGE_BUCKET"],[155,84,124,26],[155,85,124,26,"STORAGE_BUCKET"],[155,99,124,26],[155,100,124,27],[155,101,125,7,"download"],[155,109,125,15],[155,110,125,16,"filePath"],[155,118,125,24],[155,119,125,25],[156,10,123,12,"data"],[156,14,123,16],[156,17,123,16,"_yield$supabase$stora3"],[156,39,123,16],[156,40,123,12,"data"],[156,44,123,16],[157,10,123,18,"error"],[157,15,123,23],[157,18,123,23,"_yield$supabase$stora3"],[157,40,123,23],[157,41,123,18,"error"],[157,46,123,23],[158,8,127,4],[158,12,127,8,"error"],[158,17,127,13],[158,19,127,15],[159,10,128,6,"console"],[159,17,128,13],[159,18,128,14,"error"],[159,23,128,19],[159,24,128,20],[159,47,128,43],[159,49,128,45,"error"],[159,54,128,50],[159,55,128,51],[160,10,129,6],[160,17,129,13],[161,12,129,15,"success"],[161,19,129,22],[161,21,129,24],[161,26,129,29],[162,12,129,31,"error"],[162,17,129,36],[162,19,129,38,"error"],[162,24,129,43],[162,25,129,44,"message"],[163,10,129,52],[163,11,129,53],[164,8,130,4],[165,8,132,4],[165,12,132,8],[165,13,132,9,"data"],[165,17,132,13],[165,19,132,15],[166,10,133,6],[166,17,133,13],[167,12,133,15,"success"],[167,19,133,22],[167,21,133,24],[167,26,133,29],[168,12,133,31,"error"],[168,17,133,36],[168,19,133,38],[169,10,133,57],[169,11,133,58],[170,8,134,4],[172,8,136,4],[173,8,137,4],[173,12,137,10,"text"],[173,16,137,14],[173,25,137,23,"data"],[173,29,137,27],[173,30,137,28,"text"],[173,34,137,32],[173,35,137,33],[173,36,137,34],[174,8,139,4,"console"],[174,15,139,11],[174,16,139,12,"log"],[174,19,139,15],[174,20,139,16],[174,29,139,25,"shardId"],[174,36,139,32],[174,58,139,54,"text"],[174,62,139,58],[174,63,139,59,"length"],[174,69,139,65],[174,71,139,67],[174,72,139,68],[175,8,140,4],[175,15,140,11],[176,10,140,13,"success"],[176,17,140,20],[176,19,140,22],[176,23,140,26],[177,10,140,28,"data"],[177,14,140,32],[177,16,140,34,"text"],[178,8,140,39],[178,9,140,40],[179,6,141,2],[179,7,141,3],[179,8,141,4],[179,15,141,11,"error"],[179,20,141,21],[179,22,141,23],[180,8,142,4,"console"],[180,15,142,11],[180,16,142,12,"error"],[180,21,142,17],[180,22,142,18],[180,49,142,45],[180,51,142,47,"error"],[180,56,142,52],[180,57,142,53],[181,8,143,4],[181,15,143,11],[182,10,143,13,"success"],[182,17,143,20],[182,19,143,22],[182,24,143,27],[183,10,143,29,"error"],[183,15,143,34],[183,17,143,36,"error"],[183,22,143,41],[183,23,143,42,"message"],[183,30,143,49],[183,34,143,53],[184,8,143,71],[184,9,143,72],[185,6,144,2],[186,4,145,0],[186,5,145,1],[187,4,145,1],[187,11,145,1,"_downloadShard"],[187,25,145,1],[187,26,145,1,"apply"],[187,31,145,1],[187,38,145,1,"arguments"],[187,47,145,1],[188,2,145,1],[189,2,145,1],[189,11,150,22,"downloadAllShards"],[189,28,150,39,"downloadAllShards"],[189,29,150,39,"_x8"],[189,32,150,39],[189,34,150,39,"_x9"],[189,37,150,39],[189,39,150,39,"_x0"],[189,42,150,39],[189,44,150,39,"_x1"],[189,47,150,39],[190,4,150,39],[190,11,150,39,"_downloadAllShards"],[190,29,150,39],[190,30,150,39,"apply"],[190,35,150,39],[190,42,150,39,"arguments"],[190,51,150,39],[191,2,150,39],[192,2,180,0],[193,0,181,0],[194,0,182,0],[195,2,180,0],[195,11,180,0,"_downloadAllShards"],[195,30,180,0],[196,4,180,0,"_downloadAllShards"],[196,22,180,0],[196,29,180,0,"_asyncToGenerator"],[196,46,180,0],[196,47,180,0,"default"],[196,54,180,0],[196,56,150,7],[196,67,151,2,"shardIds"],[196,75,151,20],[196,77,152,2,"indices"],[196,84,152,19],[196,86,153,2,"userId"],[196,92,153,16],[196,94,154,2,"onProgress"],[196,104,154,55],[196,106,155,67],[197,6,156,2],[197,10,156,8,"shards"],[197,16,156,23],[197,19,156,26],[197,21,156,28],[198,6,158,2,"console"],[198,13,158,9],[198,14,158,10,"log"],[198,17,158,13],[198,18,158,14],[198,42,158,38,"shardIds"],[198,50,158,46],[198,51,158,47,"length"],[198,57,158,53],[198,66,158,62],[198,67,158,63],[199,6,160,2],[199,11,160,7],[199,15,160,11,"i"],[199,16,160,12],[199,19,160,15],[199,20,160,16],[199,22,160,18,"i"],[199,23,160,19],[199,26,160,22,"shardIds"],[199,34,160,30],[199,35,160,31,"length"],[199,41,160,37],[199,43,160,39,"i"],[199,44,160,40],[199,46,160,42],[199,48,160,44],[200,8,161,4],[200,12,161,10,"result"],[200,18,161,16],[200,27,161,25,"downloadShard"],[200,40,161,38],[200,41,161,39,"shardIds"],[200,49,161,47],[200,50,161,48,"i"],[200,51,161,49],[200,52,161,50],[200,54,161,52,"userId"],[200,60,161,58],[200,61,161,59],[201,8,163,4],[201,12,163,8],[201,13,163,9,"result"],[201,19,163,15],[201,20,163,16,"success"],[201,27,163,23],[201,29,163,25],[202,10,164,6],[202,17,164,13],[203,12,164,15,"success"],[203,19,164,22],[203,21,164,24],[203,26,164,29],[204,12,164,31,"error"],[204,17,164,36],[204,19,164,38],[204,47,164,66,"i"],[204,48,164,67],[204,51,164,70],[204,52,164,71],[204,57,164,76,"result"],[204,63,164,82],[204,64,164,83,"error"],[204,69,164,88],[205,10,164,91],[205,11,164,92],[206,8,165,4],[207,8,167,4,"shards"],[207,14,167,10],[207,15,167,11,"push"],[207,19,167,15],[207,20,167,16],[208,10,168,6,"id"],[208,12,168,8],[208,14,168,10,"shardIds"],[208,22,168,18],[208,23,168,19,"i"],[208,24,168,20],[208,25,168,21],[209,10,169,6,"data"],[209,14,169,10],[209,16,169,12,"result"],[209,22,169,18],[209,23,169,19,"data"],[209,27,169,24],[210,10,170,6,"index"],[210,15,170,11],[210,17,170,13,"indices"],[210,24,170,20],[210,25,170,21,"i"],[210,26,170,22],[211,8,171,4],[211,9,171,5],[211,10,171,6],[212,8,173,4,"onProgress"],[212,18,173,14],[212,21,173,17,"i"],[212,22,173,18],[212,25,173,21],[212,26,173,22],[212,28,173,24,"shardIds"],[212,36,173,32],[212,37,173,33,"length"],[212,43,173,39],[212,44,173,40],[213,6,174,2],[214,6,176,2,"console"],[214,13,176,9],[214,14,176,10,"log"],[214,17,176,13],[214,18,176,14],[214,54,176,50],[214,55,176,51],[215,6,177,2],[215,13,177,9],[216,8,177,11,"success"],[216,15,177,18],[216,17,177,20],[216,21,177,24],[217,8,177,26,"shards"],[218,6,177,33],[218,7,177,34],[219,4,178,0],[219,5,178,1],[220,4,178,1],[220,11,178,1,"_downloadAllShards"],[220,29,178,1],[220,30,178,1,"apply"],[220,35,178,1],[220,42,178,1,"arguments"],[220,51,178,1],[221,2,178,1],[222,2,178,1],[222,11,183,22,"cleanupShards"],[222,24,183,35,"cleanupShards"],[222,25,183,35,"_x10"],[222,29,183,35],[222,31,183,35,"_x11"],[222,35,183,35],[223,4,183,35],[223,11,183,35,"_cleanupShards"],[223,25,183,35],[223,26,183,35,"apply"],[223,31,183,35],[223,38,183,35,"arguments"],[223,47,183,35],[224,2,183,35],[225,2,196,0],[226,0,197,0],[227,0,198,0],[228,2,196,0],[228,11,196,0,"_cleanupShards"],[228,26,196,0],[229,4,196,0,"_cleanupShards"],[229,18,196,0],[229,25,196,0,"_asyncToGenerator"],[229,42,196,0],[229,43,196,0,"default"],[229,50,196,0],[229,52,183,7],[229,63,184,2,"shardIds"],[229,71,184,20],[229,73,185,2,"userId"],[229,79,185,16],[229,81,186,17],[230,6,187,2],[230,10,187,6],[231,8,188,4],[231,12,188,10,"supabase"],[231,20,188,18],[231,23,188,21],[231,27,188,21,"getSupabase"],[231,46,188,32],[231,47,188,32,"getSupabase"],[231,58,188,32],[231,60,188,33],[231,61,188,34],[232,8,189,4],[232,12,189,10,"filePaths"],[232,21,189,19],[232,24,189,22,"shardIds"],[232,32,189,30],[232,33,189,31,"map"],[232,36,189,34],[232,37,189,35,"id"],[232,39,189,37],[232,43,189,41],[232,46,189,44,"userId"],[232,52,189,50],[232,56,189,54,"id"],[232,58,189,56],[232,60,189,58],[232,61,189,59],[233,8,190,4],[233,14,190,10,"supabase"],[233,22,190,18],[233,23,190,19,"storage"],[233,30,190,26],[233,31,190,27,"from"],[233,35,190,31],[233,36,190,32,"STORAGE_BUCKET"],[233,55,190,46],[233,56,190,46,"STORAGE_BUCKET"],[233,70,190,46],[233,71,190,47],[233,72,190,48,"remove"],[233,78,190,54],[233,79,190,55,"filePaths"],[233,88,190,64],[233,89,190,65],[234,6,191,2],[234,7,191,3],[234,8,191,4],[234,15,191,11,"error"],[234,20,191,16],[234,22,191,18],[235,8,192,4,"console"],[235,15,192,11],[235,16,192,12,"error"],[235,21,192,17],[235,22,192,18],[235,49,192,45],[235,51,192,47,"error"],[235,56,192,52],[235,57,192,53],[236,6,193,2],[237,4,194,0],[237,5,194,1],[238,4,194,1],[238,11,194,1,"_cleanupShards"],[238,25,194,1],[238,26,194,1,"apply"],[238,31,194,1],[238,38,194,1,"arguments"],[238,47,194,1],[239,2,194,1],[240,2,194,1],[240,11,199,22,"deleteDocumentShards"],[240,31,199,42,"deleteDocumentShards"],[240,32,199,42,"_x12"],[240,36,199,42],[240,38,199,42,"_x13"],[240,42,199,42],[241,4,199,42],[241,11,199,42,"_deleteDocumentShards"],[241,32,199,42],[241,33,199,42,"apply"],[241,38,199,42],[241,45,199,42,"arguments"],[241,54,199,42],[242,2,199,42],[243,2,199,42],[243,11,199,42,"_deleteDocumentShards"],[243,33,199,42],[244,4,199,42,"_deleteDocumentShards"],[244,25,199,42],[244,32,199,42,"_asyncToGenerator"],[244,49,199,42],[244,50,199,42,"default"],[244,57,199,42],[244,59,199,7],[244,70,200,2,"shardIds"],[244,78,200,20],[244,80,201,2,"userId"],[244,86,201,16],[244,88,202,49],[245,6,203,2],[245,10,203,6],[246,8,204,4],[246,12,204,10,"supabase"],[246,20,204,18],[246,23,204,21],[246,27,204,21,"getSupabase"],[246,46,204,32],[246,47,204,32,"getSupabase"],[246,58,204,32],[246,60,204,33],[246,61,204,34],[247,8,205,4],[247,12,205,10,"filePaths"],[247,21,205,19],[247,24,205,22,"shardIds"],[247,32,205,30],[247,33,205,31,"map"],[247,36,205,34],[247,37,205,35,"id"],[247,39,205,37],[247,43,205,41],[247,46,205,44,"userId"],[247,52,205,50],[247,56,205,54,"id"],[247,58,205,56],[247,60,205,58],[247,61,205,59],[248,8,206,4],[248,12,206,4,"_yield$supabase$stora4"],[248,34,206,4],[248,43,206,28,"supabase"],[248,51,206,36],[248,52,206,37,"storage"],[248,59,206,44],[248,60,206,45,"from"],[248,64,206,49],[248,65,206,50,"STORAGE_BUCKET"],[248,84,206,64],[248,85,206,64,"STORAGE_BUCKET"],[248,99,206,64],[248,100,206,65],[248,101,206,66,"remove"],[248,107,206,72],[248,108,206,73,"filePaths"],[248,117,206,82],[248,118,206,83],[249,10,206,12,"error"],[249,15,206,17],[249,18,206,17,"_yield$supabase$stora4"],[249,40,206,17],[249,41,206,12,"error"],[249,46,206,17],[250,8,208,4],[250,12,208,8,"error"],[250,17,208,13],[250,19,208,15],[251,10,209,6],[251,17,209,13],[252,12,209,15,"success"],[252,19,209,22],[252,21,209,24],[252,26,209,29],[253,12,209,31,"error"],[253,17,209,36],[253,19,209,38,"error"],[253,24,209,43],[253,25,209,44,"message"],[254,10,209,52],[254,11,209,53],[255,8,210,4],[256,8,212,4],[256,15,212,11],[257,10,212,13,"success"],[257,17,212,20],[257,19,212,22],[258,8,212,27],[258,9,212,28],[259,6,213,2],[259,7,213,3],[259,8,213,4],[259,15,213,11,"error"],[259,20,213,21],[259,22,213,23],[260,8,214,4],[260,15,214,11],[261,10,214,13,"success"],[261,17,214,20],[261,19,214,22],[261,24,214,27],[262,10,214,29,"error"],[262,15,214,34],[262,17,214,36,"error"],[262,22,214,41],[262,23,214,42,"message"],[262,30,214,49],[262,34,214,53],[263,8,214,69],[263,9,214,70],[264,6,215,2],[265,4,216,0],[265,5,216,1],[266,4,216,1],[266,11,216,1,"_deleteDocumentShards"],[266,32,216,1],[266,33,216,1,"apply"],[266,38,216,1],[266,45,216,1,"arguments"],[266,54,216,1],[267,2,216,1],[268,0,216,1],[268,3]],"functionMap":{"names":["<global>","checkBucketAccess","uploadShard","uploadAllShards","downloadShard","downloadAllShards","cleanupShards","shardIds.map$argument_0","deleteDocumentShards"],"mappings":"AAA;OCgB;CDsB;OEM;CFkC;OGK;CHwB;OIK;CJgC;OKK;CL4B;OMK;mCCM,uBD;CNK;OQK;mCDM,uBC;CRW"},"hasCjsExports":false},"type":"js/module"}]}