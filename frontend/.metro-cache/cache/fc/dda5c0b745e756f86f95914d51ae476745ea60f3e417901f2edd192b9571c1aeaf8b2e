{"dependencies":[{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":132},"end":{"line":5,"column":47,"index":179}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}},{"name":"expo-document-picker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":180},"end":{"line":6,"column":55,"index":235}}],"key":"NWjULt4J8GGUdXN68lY2F08+J7M=","exportNames":["*"],"imports":1}},{"name":"../crypto/encryption","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":236},"end":{"line":7,"column":72,"index":308}}],"key":"G9ko50kaVyDire/HVmN7r+PYfAA=","exportNames":["*"],"imports":1}},{"name":"../crypto/sharding","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":309},"end":{"line":8,"column":78,"index":387}}],"key":"VX4W0gAr3QgcHHGKjkwXVL63nRs=","exportNames":["*"],"imports":1}},{"name":"./storageService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":388},"end":{"line":9,"column":92,"index":480}}],"key":"dpTZbh2G1/oPAs9fGfVAUGNDXgM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.pickDocument = pickDocument;\n  exports.uploadDocument = uploadDocument;\n  exports.downloadDocument = downloadDocument;\n  exports.deleteDocument = deleteDocument;\n  var _expoFileSystem = require(_dependencyMap[0], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  var _expoDocumentPicker = require(_dependencyMap[1], \"expo-document-picker\");\n  var DocumentPicker = _interopNamespace(_expoDocumentPicker);\n  var _cryptoEncryption = require(_dependencyMap[2], \"../crypto/encryption\");\n  var _cryptoSharding = require(_dependencyMap[3], \"../crypto/sharding\");\n  var _storageService = require(_dependencyMap[4], \"./storageService\");\n  // Vault Service - Zero Knowledge Vault\n  // Orchestrates encryption, sharding, upload/download\n  // All operations happen client-side\n\n  // Simple UUID generator\n  function generateUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  }\n  /**\n   * Pick a document from device\n   */\n  async function pickDocument() {\n    try {\n      const result = await DocumentPicker.getDocumentAsync({\n        type: ['application/pdf', 'image/*'],\n        copyToCacheDirectory: true\n      });\n      if (result.canceled) {\n        return {\n          success: false,\n          error: 'Cancelled'\n        };\n      }\n      const file = result.assets[0];\n      return {\n        success: true,\n        uri: file.uri,\n        name: file.name,\n        mimeType: file.mimeType || 'application/octet-stream',\n        size: file.size\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Failed to pick document'\n      };\n    }\n  }\n\n  /**\n   * Encrypt and upload a document\n   * Full pipeline: read → encrypt → shard → upload\n   */\n  async function uploadDocument(uri, name, mimeType, size, masterKey, userId, onProgress) {\n    try {\n      // Stage 1: Read file as base64\n      onProgress?.({\n        stage: 'encrypting',\n        progress: 0\n      });\n      const fileContent = await FileSystem.readAsStringAsync(uri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      onProgress?.({\n        stage: 'encrypting',\n        progress: 30\n      });\n\n      // Stage 2: Encrypt document\n      const encryptionResult = await (0, _cryptoEncryption.encryptDocument)(fileContent, masterKey);\n      onProgress?.({\n        stage: 'encrypting',\n        progress: 60\n      });\n\n      // Combine encrypted data with metadata for sharding\n      const encryptedPayload = JSON.stringify({\n        data: encryptionResult.encryptedData,\n        dataIV: encryptionResult.dataIV\n      });\n      onProgress?.({\n        stage: 'sharding',\n        progress: 70\n      });\n\n      // Stage 3: Split into shards\n      const shards = (0, _cryptoSharding.splitIntoShards)(encryptedPayload);\n      onProgress?.({\n        stage: 'sharding',\n        progress: 80\n      });\n\n      // Stage 4: Upload shards\n      onProgress?.({\n        stage: 'uploading',\n        progress: 0,\n        currentShard: 0,\n        totalShards: shards.length\n      });\n      const uploadResult = await (0, _storageService.uploadAllShards)(shards, userId, (current, total) => {\n        onProgress?.({\n          stage: 'uploading',\n          progress: Math.round(current / total * 100),\n          currentShard: current,\n          totalShards: total\n        });\n      });\n      if (!uploadResult.success) {\n        return {\n          success: false,\n          error: uploadResult.error\n        };\n      }\n\n      // Create document metadata (stored locally only)\n      const document = {\n        id: generateUUID(),\n        name,\n        type: mimeType.startsWith('image/') ? 'image' : 'pdf',\n        mimeType,\n        size,\n        createdAt: Date.now(),\n        shardIds: uploadResult.shardIds,\n        encryptedFEK: encryptionResult.encryptedFEK,\n        iv: encryptionResult.fekIV\n      };\n\n      // Store shard indices locally (needed for reassembly)\n      // This is stored encrypted in local metadata\n      const shardIndices = shards.map((s, i) => ({\n        id: s.id,\n        index: i\n      }));\n      document.shardIndices = shardIndices;\n      return {\n        success: true,\n        document\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Upload failed'\n      };\n    }\n  }\n\n  /**\n   * Download and decrypt a document\n   * Full pipeline: download shards → reassemble → decrypt → return in memory\n   */\n  async function downloadDocument(document, masterKey, userId, onProgress) {\n    try {\n      // Stage 1: Download all shards\n      onProgress?.({\n        stage: 'uploading',\n        progress: 0,\n        currentShard: 0,\n        totalShards: document.shardIds.length\n      });\n      const shardIndices = document.shardIndices || document.shardIds.map((id, i) => ({\n        id,\n        index: i\n      }));\n      const indices = shardIndices.map(s => s.index);\n      const downloadResult = await (0, _storageService.downloadAllShards)(document.shardIds, indices, userId, (current, total) => {\n        onProgress?.({\n          stage: 'uploading',\n          progress: Math.round(current / total * 100),\n          currentShard: current,\n          totalShards: total\n        });\n      });\n      if (!downloadResult.success) {\n        return {\n          success: false,\n          error: downloadResult.error\n        };\n      }\n\n      // Stage 2: Reassemble shards\n      onProgress?.({\n        stage: 'sharding',\n        progress: 50\n      });\n      const encryptedPayload = (0, _cryptoSharding.reassembleShards)(downloadResult.shards);\n      const {\n        data: encryptedData,\n        dataIV\n      } = JSON.parse(encryptedPayload);\n\n      // Stage 3: Decrypt document\n      onProgress?.({\n        stage: 'encrypting',\n        progress: 75\n      });\n      const decryptedData = (0, _cryptoEncryption.decryptDocument)(encryptedData, document.encryptedFEK, document.iv, dataIV, masterKey);\n      if (!decryptedData) {\n        return {\n          success: false,\n          error: 'Decryption failed - invalid key or corrupted data'\n        };\n      }\n      onProgress?.({\n        stage: 'encrypting',\n        progress: 100\n      });\n      return {\n        success: true,\n        data: decryptedData,\n        // Base64 encoded\n        mimeType: document.mimeType\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Download failed'\n      };\n    }\n  }\n\n  /**\n   * Delete a document from cloud and local metadata\n   */\n  async function deleteDocument(document, userId) {\n    return (0, _storageService.deleteDocumentShards)(document.shardIds, userId);\n  }\n});","lineCount":253,"map":[[22,2,30,0,"exports"],[22,9,30,0],[22,10,30,0,"pickDocument"],[22,22,30,0],[22,25,30,0,"pickDocument"],[22,37,30,0],[23,2,65,0,"exports"],[23,9,65,0],[23,10,65,0,"uploadDocument"],[23,24,65,0],[23,27,65,0,"uploadDocument"],[23,41,65,0],[24,2,146,0,"exports"],[24,9,146,0],[24,10,146,0,"downloadDocument"],[24,26,146,0],[24,29,146,0,"downloadDocument"],[24,45,146,0],[25,2,213,0,"exports"],[25,9,213,0],[25,10,213,0,"deleteDocument"],[25,24,213,0],[25,27,213,0,"deleteDocument"],[25,41,213,0],[26,2,5,0],[26,6,5,0,"_expoFileSystem"],[26,21,5,0],[26,24,5,0,"require"],[26,31,5,0],[26,32,5,0,"_dependencyMap"],[26,46,5,0],[27,2,5,0],[27,6,5,0,"FileSystem"],[27,16,5,0],[27,19,5,0,"_interopNamespace"],[27,36,5,0],[27,37,5,0,"_expoFileSystem"],[27,52,5,0],[28,2,6,0],[28,6,6,0,"_expoDocumentPicker"],[28,25,6,0],[28,28,6,0,"require"],[28,35,6,0],[28,36,6,0,"_dependencyMap"],[28,50,6,0],[29,2,6,0],[29,6,6,0,"DocumentPicker"],[29,20,6,0],[29,23,6,0,"_interopNamespace"],[29,40,6,0],[29,41,6,0,"_expoDocumentPicker"],[29,60,6,0],[30,2,7,0],[30,6,7,0,"_cryptoEncryption"],[30,23,7,0],[30,26,7,0,"require"],[30,33,7,0],[30,34,7,0,"_dependencyMap"],[30,48,7,0],[31,2,8,0],[31,6,8,0,"_cryptoSharding"],[31,21,8,0],[31,24,8,0,"require"],[31,31,8,0],[31,32,8,0,"_dependencyMap"],[31,46,8,0],[32,2,9,0],[32,6,9,0,"_storageService"],[32,21,9,0],[32,24,9,0,"require"],[32,31,9,0],[32,32,9,0,"_dependencyMap"],[32,46,9,0],[33,2,1,0],[34,2,2,0],[35,2,3,0],[37,2,12,0],[38,2,13,0],[38,11,13,9,"generateUUID"],[38,23,13,21,"generateUUID"],[38,24,13,21],[38,26,13,32],[39,4,14,2],[39,11,14,9],[39,49,14,47],[39,50,14,48,"replace"],[39,57,14,55],[39,58,14,56],[39,65,14,63],[39,67,14,65],[39,77,14,74,"c"],[39,78,14,75],[39,80,14,77],[40,6,15,4],[40,12,15,10,"r"],[40,13,15,11],[40,16,15,14,"Math"],[40,20,15,18],[40,21,15,19,"random"],[40,27,15,25],[40,28,15,26],[40,29,15,27],[40,32,15,30],[40,34,15,32],[40,37,15,35],[40,38,15,36],[41,6,16,4],[41,12,16,10,"v"],[41,13,16,11],[41,16,16,14,"c"],[41,17,16,15],[41,22,16,20],[41,25,16,23],[41,28,16,26,"r"],[41,29,16,27],[41,32,16,31,"r"],[41,33,16,32],[41,36,16,35],[41,39,16,38],[41,42,16,41],[41,45,16,45],[42,6,17,4],[42,13,17,11,"v"],[42,14,17,12],[42,15,17,13,"toString"],[42,23,17,21],[42,24,17,22],[42,26,17,24],[42,27,17,25],[43,4,18,2],[43,5,18,3],[43,6,18,4],[44,2,19,0],[45,2,27,0],[46,0,28,0],[47,0,29,0],[48,2,30,7],[48,17,30,22,"pickDocument"],[48,29,30,34,"pickDocument"],[48,30,30,34],[48,32,37,3],[49,4,38,2],[49,8,38,6],[50,6,39,4],[50,12,39,10,"result"],[50,18,39,16],[50,21,39,19],[50,27,39,25,"DocumentPicker"],[50,41,39,39],[50,42,39,40,"getDocumentAsync"],[50,58,39,56],[50,59,39,57],[51,8,40,6,"type"],[51,12,40,10],[51,14,40,12],[51,15,40,13],[51,32,40,30],[51,34,40,32],[51,43,40,41],[51,44,40,42],[52,8,41,6,"copyToCacheDirectory"],[52,28,41,26],[52,30,41,28],[53,6,42,4],[53,7,42,5],[53,8,42,6],[54,6,44,4],[54,10,44,8,"result"],[54,16,44,14],[54,17,44,15,"canceled"],[54,25,44,23],[54,27,44,25],[55,8,45,6],[55,15,45,13],[56,10,45,15,"success"],[56,17,45,22],[56,19,45,24],[56,24,45,29],[57,10,45,31,"error"],[57,15,45,36],[57,17,45,38],[58,8,45,50],[58,9,45,51],[59,6,46,4],[60,6,48,4],[60,12,48,10,"file"],[60,16,48,14],[60,19,48,17,"result"],[60,25,48,23],[60,26,48,24,"assets"],[60,32,48,30],[60,33,48,31],[60,34,48,32],[60,35,48,33],[61,6,49,4],[61,13,49,11],[62,8,50,6,"success"],[62,15,50,13],[62,17,50,15],[62,21,50,19],[63,8,51,6,"uri"],[63,11,51,9],[63,13,51,11,"file"],[63,17,51,15],[63,18,51,16,"uri"],[63,21,51,19],[64,8,52,6,"name"],[64,12,52,10],[64,14,52,12,"file"],[64,18,52,16],[64,19,52,17,"name"],[64,23,52,21],[65,8,53,6,"mimeType"],[65,16,53,14],[65,18,53,16,"file"],[65,22,53,20],[65,23,53,21,"mimeType"],[65,31,53,29],[65,35,53,33],[65,61,53,59],[66,8,54,6,"size"],[66,12,54,10],[66,14,54,12,"file"],[66,18,54,16],[66,19,54,17,"size"],[67,6,55,4],[67,7,55,5],[68,4,56,2],[68,5,56,3],[68,6,56,4],[68,13,56,11,"error"],[68,18,56,21],[68,20,56,23],[69,6,57,4],[69,13,57,11],[70,8,57,13,"success"],[70,15,57,20],[70,17,57,22],[70,22,57,27],[71,8,57,29,"error"],[71,13,57,34],[71,15,57,36,"error"],[71,20,57,41],[71,21,57,42,"message"],[71,28,57,49],[71,32,57,53],[72,6,57,79],[72,7,57,80],[73,4,58,2],[74,2,59,0],[76,2,61,0],[77,0,62,0],[78,0,63,0],[79,0,64,0],[80,2,65,7],[80,17,65,22,"uploadDocument"],[80,31,65,36,"uploadDocument"],[80,32,66,2,"uri"],[80,35,66,13],[80,37,67,2,"name"],[80,41,67,14],[80,43,68,2,"mimeType"],[80,51,68,18],[80,53,69,2,"size"],[80,57,69,14],[80,59,70,2,"masterKey"],[80,68,70,19],[80,70,71,2,"userId"],[80,76,71,16],[80,78,72,2,"onProgress"],[80,88,72,49],[80,90,73,33],[81,4,74,2],[81,8,74,6],[82,6,75,4],[83,6,76,4,"onProgress"],[83,16,76,14],[83,19,76,17],[84,8,76,19,"stage"],[84,13,76,24],[84,15,76,26],[84,27,76,38],[85,8,76,40,"progress"],[85,16,76,48],[85,18,76,50],[86,6,76,52],[86,7,76,53],[86,8,76,54],[87,6,78,4],[87,12,78,10,"fileContent"],[87,23,78,21],[87,26,78,24],[87,32,78,30,"FileSystem"],[87,42,78,40],[87,43,78,41,"readAsStringAsync"],[87,60,78,58],[87,61,78,59,"uri"],[87,64,78,62],[87,66,78,64],[88,8,79,6,"encoding"],[88,16,79,14],[88,18,79,16,"FileSystem"],[88,28,79,26],[88,29,79,27,"EncodingType"],[88,41,79,39],[88,42,79,40,"Base64"],[89,6,80,4],[89,7,80,5],[89,8,80,6],[90,6,82,4,"onProgress"],[90,16,82,14],[90,19,82,17],[91,8,82,19,"stage"],[91,13,82,24],[91,15,82,26],[91,27,82,38],[92,8,82,40,"progress"],[92,16,82,48],[92,18,82,50],[93,6,82,53],[93,7,82,54],[93,8,82,55],[95,6,84,4],[96,6,85,4],[96,12,85,10,"encryptionResult"],[96,28,85,26],[96,31,85,29],[96,37,85,35],[96,41,85,35,"encryptDocument"],[96,58,85,50],[96,59,85,50,"encryptDocument"],[96,74,85,50],[96,76,85,51,"fileContent"],[96,87,85,62],[96,89,85,64,"masterKey"],[96,98,85,73],[96,99,85,74],[97,6,87,4,"onProgress"],[97,16,87,14],[97,19,87,17],[98,8,87,19,"stage"],[98,13,87,24],[98,15,87,26],[98,27,87,38],[99,8,87,40,"progress"],[99,16,87,48],[99,18,87,50],[100,6,87,53],[100,7,87,54],[100,8,87,55],[102,6,89,4],[103,6,90,4],[103,12,90,10,"encryptedPayload"],[103,28,90,26],[103,31,90,29,"JSON"],[103,35,90,33],[103,36,90,34,"stringify"],[103,45,90,43],[103,46,90,44],[104,8,91,6,"data"],[104,12,91,10],[104,14,91,12,"encryptionResult"],[104,30,91,28],[104,31,91,29,"encryptedData"],[104,44,91,42],[105,8,92,6,"dataIV"],[105,14,92,12],[105,16,92,14,"encryptionResult"],[105,32,92,30],[105,33,92,31,"dataIV"],[106,6,93,4],[106,7,93,5],[106,8,93,6],[107,6,95,4,"onProgress"],[107,16,95,14],[107,19,95,17],[108,8,95,19,"stage"],[108,13,95,24],[108,15,95,26],[108,25,95,36],[109,8,95,38,"progress"],[109,16,95,46],[109,18,95,48],[110,6,95,51],[110,7,95,52],[110,8,95,53],[112,6,97,4],[113,6,98,4],[113,12,98,10,"shards"],[113,18,98,16],[113,21,98,19],[113,25,98,19,"splitIntoShards"],[113,40,98,34],[113,41,98,34,"splitIntoShards"],[113,56,98,34],[113,58,98,35,"encryptedPayload"],[113,74,98,51],[113,75,98,52],[114,6,100,4,"onProgress"],[114,16,100,14],[114,19,100,17],[115,8,100,19,"stage"],[115,13,100,24],[115,15,100,26],[115,25,100,36],[116,8,100,38,"progress"],[116,16,100,46],[116,18,100,48],[117,6,100,51],[117,7,100,52],[117,8,100,53],[119,6,102,4],[120,6,103,4,"onProgress"],[120,16,103,14],[120,19,103,17],[121,8,103,19,"stage"],[121,13,103,24],[121,15,103,26],[121,26,103,37],[122,8,103,39,"progress"],[122,16,103,47],[122,18,103,49],[122,19,103,50],[123,8,103,52,"currentShard"],[123,20,103,64],[123,22,103,66],[123,23,103,67],[124,8,103,69,"totalShards"],[124,19,103,80],[124,21,103,82,"shards"],[124,27,103,88],[124,28,103,89,"length"],[125,6,103,96],[125,7,103,97],[125,8,103,98],[126,6,105,4],[126,12,105,10,"uploadResult"],[126,24,105,22],[126,27,105,25],[126,33,105,31],[126,37,105,31,"uploadAllShards"],[126,52,105,46],[126,53,105,46,"uploadAllShards"],[126,68,105,46],[126,70,105,47,"shards"],[126,76,105,53],[126,78,105,55,"userId"],[126,84,105,61],[126,86,105,63],[126,87,105,64,"current"],[126,94,105,71],[126,96,105,73,"total"],[126,101,105,78],[126,106,105,83],[127,8,106,6,"onProgress"],[127,18,106,16],[127,21,106,19],[128,10,107,8,"stage"],[128,15,107,13],[128,17,107,15],[128,28,107,26],[129,10,108,8,"progress"],[129,18,108,16],[129,20,108,18,"Math"],[129,24,108,22],[129,25,108,23,"round"],[129,30,108,28],[129,31,108,30,"current"],[129,38,108,37],[129,41,108,40,"total"],[129,46,108,45],[129,49,108,49],[129,52,108,52],[129,53,108,53],[130,10,109,8,"currentShard"],[130,22,109,20],[130,24,109,22,"current"],[130,31,109,29],[131,10,110,8,"totalShards"],[131,21,110,19],[131,23,110,21,"total"],[132,8,111,6],[132,9,111,7],[132,10,111,8],[133,6,112,4],[133,7,112,5],[133,8,112,6],[134,6,114,4],[134,10,114,8],[134,11,114,9,"uploadResult"],[134,23,114,21],[134,24,114,22,"success"],[134,31,114,29],[134,33,114,31],[135,8,115,6],[135,15,115,13],[136,10,115,15,"success"],[136,17,115,22],[136,19,115,24],[136,24,115,29],[137,10,115,31,"error"],[137,15,115,36],[137,17,115,38,"uploadResult"],[137,29,115,50],[137,30,115,51,"error"],[138,8,115,57],[138,9,115,58],[139,6,116,4],[141,6,118,4],[142,6,119,4],[142,12,119,10,"document"],[142,20,119,33],[142,23,119,36],[143,8,120,6,"id"],[143,10,120,8],[143,12,120,10,"generateUUID"],[143,24,120,22],[143,25,120,23],[143,26,120,24],[144,8,121,6,"name"],[144,12,121,10],[145,8,122,6,"type"],[145,12,122,10],[145,14,122,12,"mimeType"],[145,22,122,20],[145,23,122,21,"startsWith"],[145,33,122,31],[145,34,122,32],[145,42,122,40],[145,43,122,41],[145,46,122,44],[145,53,122,51],[145,56,122,54],[145,61,122,59],[146,8,123,6,"mimeType"],[146,16,123,14],[147,8,124,6,"size"],[147,12,124,10],[148,8,125,6,"createdAt"],[148,17,125,15],[148,19,125,17,"Date"],[148,23,125,21],[148,24,125,22,"now"],[148,27,125,25],[148,28,125,26],[148,29,125,27],[149,8,126,6,"shardIds"],[149,16,126,14],[149,18,126,16,"uploadResult"],[149,30,126,28],[149,31,126,29,"shardIds"],[149,39,126,38],[150,8,127,6,"encryptedFEK"],[150,20,127,18],[150,22,127,20,"encryptionResult"],[150,38,127,36],[150,39,127,37,"encryptedFEK"],[150,51,127,49],[151,8,128,6,"iv"],[151,10,128,8],[151,12,128,10,"encryptionResult"],[151,28,128,26],[151,29,128,27,"fekIV"],[152,6,129,4],[152,7,129,5],[154,6,131,4],[155,6,132,4],[156,6,133,4],[156,12,133,10,"shardIndices"],[156,24,133,22],[156,27,133,25,"shards"],[156,33,133,31],[156,34,133,32,"map"],[156,37,133,35],[156,38,133,36],[156,39,133,37,"s"],[156,40,133,38],[156,42,133,40,"i"],[156,43,133,41],[156,49,133,47],[157,8,133,49,"id"],[157,10,133,51],[157,12,133,53,"s"],[157,13,133,54],[157,14,133,55,"id"],[157,16,133,57],[158,8,133,59,"index"],[158,13,133,64],[158,15,133,66,"i"],[159,6,133,68],[159,7,133,69],[159,8,133,70],[159,9,133,71],[160,6,134,5,"document"],[160,14,134,13],[160,15,134,22,"shardIndices"],[160,27,134,34],[160,30,134,37,"shardIndices"],[160,42,134,49],[161,6,136,4],[161,13,136,11],[162,8,136,13,"success"],[162,15,136,20],[162,17,136,22],[162,21,136,26],[163,8,136,28,"document"],[164,6,136,37],[164,7,136,38],[165,4,137,2],[165,5,137,3],[165,6,137,4],[165,13,137,11,"error"],[165,18,137,21],[165,20,137,23],[166,6,138,4],[166,13,138,11],[167,8,138,13,"success"],[167,15,138,20],[167,17,138,22],[167,22,138,27],[168,8,138,29,"error"],[168,13,138,34],[168,15,138,36,"error"],[168,20,138,41],[168,21,138,42,"message"],[168,28,138,49],[168,32,138,53],[169,6,138,69],[169,7,138,70],[170,4,139,2],[171,2,140,0],[173,2,142,0],[174,0,143,0],[175,0,144,0],[176,0,145,0],[177,2,146,7],[177,17,146,22,"downloadDocument"],[177,33,146,38,"downloadDocument"],[177,34,147,2,"document"],[177,42,147,25],[177,44,148,2,"masterKey"],[177,53,148,19],[177,55,149,2,"userId"],[177,61,149,16],[177,63,150,2,"onProgress"],[177,73,150,49],[177,75,151,83],[178,4,152,2],[178,8,152,6],[179,6,153,4],[180,6,154,4,"onProgress"],[180,16,154,14],[180,19,154,17],[181,8,154,19,"stage"],[181,13,154,24],[181,15,154,26],[181,26,154,37],[182,8,154,39,"progress"],[182,16,154,47],[182,18,154,49],[182,19,154,50],[183,8,154,52,"currentShard"],[183,20,154,64],[183,22,154,66],[183,23,154,67],[184,8,154,69,"totalShards"],[184,19,154,80],[184,21,154,82,"document"],[184,29,154,90],[184,30,154,91,"shardIds"],[184,38,154,99],[184,39,154,100,"length"],[185,6,154,107],[185,7,154,108],[185,8,154,109],[186,6,156,4],[186,12,156,10,"shardIndices"],[186,24,156,22],[186,27,156,26,"document"],[186,35,156,34],[186,36,156,43,"shardIndices"],[186,48,156,55],[186,52,156,59,"document"],[186,60,156,67],[186,61,156,68,"shardIds"],[186,69,156,76],[186,70,156,77,"map"],[186,73,156,80],[186,74,156,81],[186,75,156,82,"id"],[186,77,156,84],[186,79,156,86,"i"],[186,80,156,87],[186,86,156,93],[187,8,156,95,"id"],[187,10,156,97],[188,8,156,99,"index"],[188,13,156,104],[188,15,156,106,"i"],[189,6,156,108],[189,7,156,109],[189,8,156,110],[189,9,156,111],[190,6,157,4],[190,12,157,10,"indices"],[190,19,157,17],[190,22,157,20,"shardIndices"],[190,34,157,32],[190,35,157,33,"map"],[190,38,157,36],[190,39,157,38,"s"],[190,40,157,44],[190,44,157,49,"s"],[190,45,157,50],[190,46,157,51,"index"],[190,51,157,56],[190,52,157,57],[191,6,159,4],[191,12,159,10,"downloadResult"],[191,26,159,24],[191,29,159,27],[191,35,159,33],[191,39,159,33,"downloadAllShards"],[191,54,159,50],[191,55,159,50,"downloadAllShards"],[191,72,159,50],[191,74,160,6,"document"],[191,82,160,14],[191,83,160,15,"shardIds"],[191,91,160,23],[191,93,161,6,"indices"],[191,100,161,13],[191,102,162,6,"userId"],[191,108,162,12],[191,110,163,6],[191,111,163,7,"current"],[191,118,163,14],[191,120,163,16,"total"],[191,125,163,21],[191,130,163,26],[192,8,164,8,"onProgress"],[192,18,164,18],[192,21,164,21],[193,10,165,10,"stage"],[193,15,165,15],[193,17,165,17],[193,28,165,28],[194,10,166,10,"progress"],[194,18,166,18],[194,20,166,20,"Math"],[194,24,166,24],[194,25,166,25,"round"],[194,30,166,30],[194,31,166,32,"current"],[194,38,166,39],[194,41,166,42,"total"],[194,46,166,47],[194,49,166,51],[194,52,166,54],[194,53,166,55],[195,10,167,10,"currentShard"],[195,22,167,22],[195,24,167,24,"current"],[195,31,167,31],[196,10,168,10,"totalShards"],[196,21,168,21],[196,23,168,23,"total"],[197,8,169,8],[197,9,169,9],[197,10,169,10],[198,6,170,6],[198,7,171,4],[198,8,171,5],[199,6,173,4],[199,10,173,8],[199,11,173,9,"downloadResult"],[199,25,173,23],[199,26,173,24,"success"],[199,33,173,31],[199,35,173,33],[200,8,174,6],[200,15,174,13],[201,10,174,15,"success"],[201,17,174,22],[201,19,174,24],[201,24,174,29],[202,10,174,31,"error"],[202,15,174,36],[202,17,174,38,"downloadResult"],[202,31,174,52],[202,32,174,53,"error"],[203,8,174,59],[203,9,174,60],[204,6,175,4],[206,6,177,4],[207,6,178,4,"onProgress"],[207,16,178,14],[207,19,178,17],[208,8,178,19,"stage"],[208,13,178,24],[208,15,178,26],[208,25,178,36],[209,8,178,38,"progress"],[209,16,178,46],[209,18,178,48],[210,6,178,51],[210,7,178,52],[210,8,178,53],[211,6,180,4],[211,12,180,10,"encryptedPayload"],[211,28,180,26],[211,31,180,29],[211,35,180,29,"reassembleShards"],[211,50,180,45],[211,51,180,45,"reassembleShards"],[211,67,180,45],[211,69,180,46,"downloadResult"],[211,83,180,60],[211,84,180,61,"shards"],[211,90,180,68],[211,91,180,69],[212,6,181,4],[212,12,181,10],[213,8,181,12,"data"],[213,12,181,16],[213,14,181,18,"encryptedData"],[213,27,181,31],[214,8,181,33,"dataIV"],[215,6,181,40],[215,7,181,41],[215,10,181,44,"JSON"],[215,14,181,48],[215,15,181,49,"parse"],[215,20,181,54],[215,21,181,55,"encryptedPayload"],[215,37,181,71],[215,38,181,72],[217,6,183,4],[218,6,184,4,"onProgress"],[218,16,184,14],[218,19,184,17],[219,8,184,19,"stage"],[219,13,184,24],[219,15,184,26],[219,27,184,38],[220,8,184,40,"progress"],[220,16,184,48],[220,18,184,50],[221,6,184,53],[221,7,184,54],[221,8,184,55],[222,6,186,4],[222,12,186,10,"decryptedData"],[222,25,186,23],[222,28,186,26],[222,32,186,26,"decryptDocument"],[222,49,186,41],[222,50,186,41,"decryptDocument"],[222,65,186,41],[222,67,187,6,"encryptedData"],[222,80,187,19],[222,82,188,6,"document"],[222,90,188,14],[222,91,188,15,"encryptedFEK"],[222,103,188,27],[222,105,189,6,"document"],[222,113,189,14],[222,114,189,15,"iv"],[222,116,189,17],[222,118,190,6,"dataIV"],[222,124,190,12],[222,126,191,6,"masterKey"],[222,135,192,4],[222,136,192,5],[223,6,194,4],[223,10,194,8],[223,11,194,9,"decryptedData"],[223,24,194,22],[223,26,194,24],[224,8,195,6],[224,15,195,13],[225,10,195,15,"success"],[225,17,195,22],[225,19,195,24],[225,24,195,29],[226,10,195,31,"error"],[226,15,195,36],[226,17,195,38],[227,8,195,90],[227,9,195,91],[228,6,196,4],[229,6,198,4,"onProgress"],[229,16,198,14],[229,19,198,17],[230,8,198,19,"stage"],[230,13,198,24],[230,15,198,26],[230,27,198,38],[231,8,198,40,"progress"],[231,16,198,48],[231,18,198,50],[232,6,198,54],[232,7,198,55],[232,8,198,56],[233,6,200,4],[233,13,200,11],[234,8,201,6,"success"],[234,15,201,13],[234,17,201,15],[234,21,201,19],[235,8,202,6,"data"],[235,12,202,10],[235,14,202,12,"decryptedData"],[235,27,202,25],[236,8,202,27],[237,8,203,6,"mimeType"],[237,16,203,14],[237,18,203,16,"document"],[237,26,203,24],[237,27,203,25,"mimeType"],[238,6,204,4],[238,7,204,5],[239,4,205,2],[239,5,205,3],[239,6,205,4],[239,13,205,11,"error"],[239,18,205,21],[239,20,205,23],[240,6,206,4],[240,13,206,11],[241,8,206,13,"success"],[241,15,206,20],[241,17,206,22],[241,22,206,27],[242,8,206,29,"error"],[242,13,206,34],[242,15,206,36,"error"],[242,20,206,41],[242,21,206,42,"message"],[242,28,206,49],[242,32,206,53],[243,6,206,71],[243,7,206,72],[244,4,207,2],[245,2,208,0],[247,2,210,0],[248,0,211,0],[249,0,212,0],[250,2,213,7],[250,17,213,22,"deleteDocument"],[250,31,213,36,"deleteDocument"],[250,32,214,2,"document"],[250,40,214,25],[250,42,215,2,"userId"],[250,48,215,16],[250,50,216,49],[251,4,217,2],[251,11,217,9],[251,15,217,9,"deleteDocumentShards"],[251,30,217,29],[251,31,217,29,"deleteDocumentShards"],[251,51,217,29],[251,53,217,30,"document"],[251,61,217,38],[251,62,217,39,"shardIds"],[251,70,217,47],[251,72,217,49,"userId"],[251,78,217,55],[251,79,217,56],[252,2,218,0],[253,0,218,1],[253,3]],"functionMap":{"names":["<global>","generateUUID","xxxxxxxxXxxx4xxxYxxxXxxxxxxxxxxx.replace$argument_1","pickDocument","uploadDocument","uploadAllShards$argument_2","shards.map$argument_0","downloadDocument","document.shardIds.map$argument_0","shardIndices.map$argument_0","downloadAllShards$argument_3","deleteDocument"],"mappings":"AAA;ACY;iECC;GDI;CDC;OGW;CH6B;OIM;+DCwC;KDO;oCEqB,kCF;CJO;OOM;iFCU,6BD;qCEC,mBF;MGM;OHO;CPsC;OWK;CXK"},"hasCjsExports":false},"type":"js/module"}]}