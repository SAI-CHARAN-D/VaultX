{"dependencies":[{"name":"../auth/supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":156},"end":{"line":5,"column":69,"index":225}}],"key":"N6WSRy60K8929CSDB5Gy6caq2pI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.checkBucketAccess = checkBucketAccess;\n  exports.uploadShard = uploadShard;\n  exports.uploadAllShards = uploadAllShards;\n  exports.downloadShard = downloadShard;\n  exports.downloadAllShards = downloadAllShards;\n  exports.cleanupShards = cleanupShards;\n  exports.deleteDocumentShards = deleteDocumentShards;\n  var _authSupabaseClient = require(_dependencyMap[0], \"../auth/supabaseClient\");\n  // Cloud Storage Service - Zero Knowledge Vault\n  // Uploads ONLY encrypted shards with random UUID filenames\n  // Server sees meaningless blobs - no metadata\n\n  /**\n   * Check if storage bucket is accessible by trying to list files\n   */\n  async function checkBucketAccess() {\n    try {\n      const supabase = (0, _authSupabaseClient.getSupabase)();\n      // Just try to list - this works with regular auth\n      const {\n        data,\n        error\n      } = await supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).list('', {\n        limit: 1\n      });\n      if (error) {\n        console.error('Bucket access error:', error);\n        return {\n          success: false,\n          error: `Storage error: ${error.message}`\n        };\n      }\n      console.log('Bucket access OK');\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('Bucket check exception:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  /**\n   * Upload a single shard to Supabase Storage\n   * Filename is the random UUID - no relation to original file\n   */\n  async function uploadShard(shard, userId) {\n    try {\n      const supabase = (0, _authSupabaseClient.getSupabase)();\n\n      // Path: userId/shardUUID (user folder for RLS)\n      const filePath = `${userId}/${shard.id}`;\n      console.log(`Uploading shard ${shard.id} to ${filePath}, data length: ${shard.data.length}`);\n\n      // Convert string to ArrayBuffer for upload\n      const encoder = new TextEncoder();\n      const uint8Array = encoder.encode(shard.data);\n      const {\n        data,\n        error\n      } = await supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).upload(filePath, uint8Array, {\n        contentType: 'application/octet-stream',\n        upsert: true\n      });\n      if (error) {\n        console.error('Shard upload error:', JSON.stringify(error));\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n      console.log(`Shard ${shard.id} uploaded successfully:`, data);\n      return {\n        success: true,\n        shardId: shard.id\n      };\n    } catch (error) {\n      console.error('Shard upload exception:', error);\n      return {\n        success: false,\n        error: error.message || 'Upload failed'\n      };\n    }\n  }\n\n  /**\n   * Upload all shards for a document\n   */\n  async function uploadAllShards(shards, userId, onProgress) {\n    const shardIds = [];\n    console.log(`Starting upload of ${shards.length} shards for user ${userId}`);\n    for (let i = 0; i < shards.length; i++) {\n      const result = await uploadShard(shards[i], userId);\n      if (!result.success) {\n        console.error(`Failed at shard ${i + 1}, cleaning up...`);\n        await cleanupShards(shardIds, userId);\n        return {\n          success: false,\n          error: `Shard ${i + 1}/${shards.length} failed: ${result.error}`\n        };\n      }\n      shardIds.push(result.shardId);\n      onProgress?.(i + 1, shards.length);\n    }\n    console.log('All shards uploaded successfully:', shardIds);\n    return {\n      success: true,\n      shardIds\n    };\n  }\n\n  /**\n   * Download a shard from Supabase Storage\n   */\n  async function downloadShard(shardId, userId) {\n    try {\n      const supabase = (0, _authSupabaseClient.getSupabase)();\n      const filePath = `${userId}/${shardId}`;\n      console.log(`Downloading shard from ${filePath}`);\n      const {\n        data,\n        error\n      } = await supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).download(filePath);\n      if (error) {\n        console.error('Shard download error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n      if (!data) {\n        return {\n          success: false,\n          error: 'No data received'\n        };\n      }\n\n      // Convert blob to string\n      const text = await data.text();\n      console.log(`Shard ${shardId} downloaded, size: ${text.length}`);\n      return {\n        success: true,\n        data: text\n      };\n    } catch (error) {\n      console.error('Shard download exception:', error);\n      return {\n        success: false,\n        error: error.message || 'Download failed'\n      };\n    }\n  }\n\n  /**\n   * Download all shards for a document\n   */\n  async function downloadAllShards(shardIds, indices, userId, onProgress) {\n    const shards = [];\n    console.log(`Starting download of ${shardIds.length} shards`);\n    for (let i = 0; i < shardIds.length; i++) {\n      const result = await downloadShard(shardIds[i], userId);\n      if (!result.success) {\n        return {\n          success: false,\n          error: `Failed to download shard ${i + 1}: ${result.error}`\n        };\n      }\n      shards.push({\n        id: shardIds[i],\n        data: result.data,\n        index: indices[i]\n      });\n      onProgress?.(i + 1, shardIds.length);\n    }\n    console.log('All shards downloaded successfully');\n    return {\n      success: true,\n      shards\n    };\n  }\n\n  /**\n   * Delete shards from storage\n   */\n  async function cleanupShards(shardIds, userId) {\n    try {\n      const supabase = (0, _authSupabaseClient.getSupabase)();\n      const filePaths = shardIds.map(id => `${userId}/${id}`);\n      await supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths);\n    } catch (error) {\n      console.error('Failed to cleanup shards:', error);\n    }\n  }\n\n  /**\n   * Delete a document's shards\n   */\n  async function deleteDocumentShards(shardIds, userId) {\n    try {\n      const supabase = (0, _authSupabaseClient.getSupabase)();\n      const filePaths = shardIds.map(id => `${userId}/${id}`);\n      const {\n        error\n      } = await supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths);\n      if (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n      return {\n        success: true\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Delete failed'\n      };\n    }\n  }\n});","lineCount":230,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"checkBucketAccess"],[7,27,17,0],[7,30,17,0,"checkBucketAccess"],[7,47,17,0],[8,2,45,0,"exports"],[8,9,45,0],[8,10,45,0,"uploadShard"],[8,21,45,0],[8,24,45,0,"uploadShard"],[8,35,45,0],[9,2,84,0,"exports"],[9,9,84,0],[9,10,84,0,"uploadAllShards"],[9,25,84,0],[9,28,84,0,"uploadAllShards"],[9,43,84,0],[10,2,113,0,"exports"],[10,9,113,0],[10,10,113,0,"downloadShard"],[10,23,113,0],[10,26,113,0,"downloadShard"],[10,39,113,0],[11,2,150,0,"exports"],[11,9,150,0],[11,10,150,0,"downloadAllShards"],[11,27,150,0],[11,30,150,0,"downloadAllShards"],[11,47,150,0],[12,2,183,0,"exports"],[12,9,183,0],[12,10,183,0,"cleanupShards"],[12,23,183,0],[12,26,183,0,"cleanupShards"],[12,39,183,0],[13,2,199,0,"exports"],[13,9,199,0],[13,10,199,0,"deleteDocumentShards"],[13,30,199,0],[13,33,199,0,"deleteDocumentShards"],[13,53,199,0],[14,2,5,0],[14,6,5,0,"_authSupabaseClient"],[14,25,5,0],[14,28,5,0,"require"],[14,35,5,0],[14,36,5,0,"_dependencyMap"],[14,50,5,0],[15,2,1,0],[16,2,2,0],[17,2,3,0],[19,2,14,0],[20,0,15,0],[21,0,16,0],[22,2,17,7],[22,17,17,22,"checkBucketAccess"],[22,34,17,39,"checkBucketAccess"],[22,35,17,39],[22,37,17,89],[23,4,18,2],[23,8,18,6],[24,6,19,4],[24,12,19,10,"supabase"],[24,20,19,18],[24,23,19,21],[24,27,19,21,"getSupabase"],[24,46,19,32],[24,47,19,32,"getSupabase"],[24,58,19,32],[24,60,19,33],[24,61,19,34],[25,6,20,4],[26,6,21,4],[26,12,21,10],[27,8,21,12,"data"],[27,12,21,16],[28,8,21,18,"error"],[29,6,21,24],[29,7,21,25],[29,10,21,28],[29,16,21,34,"supabase"],[29,24,21,42],[29,25,21,43,"storage"],[29,32,21,50],[29,33,22,7,"from"],[29,37,22,11],[29,38,22,12,"STORAGE_BUCKET"],[29,57,22,26],[29,58,22,26,"STORAGE_BUCKET"],[29,72,22,26],[29,73,22,27],[29,74,23,7,"list"],[29,78,23,11],[29,79,23,12],[29,81,23,14],[29,83,23,16],[30,8,23,18,"limit"],[30,13,23,23],[30,15,23,25],[31,6,23,27],[31,7,23,28],[31,8,23,29],[32,6,25,4],[32,10,25,8,"error"],[32,15,25,13],[32,17,25,15],[33,8,26,6,"console"],[33,15,26,13],[33,16,26,14,"error"],[33,21,26,19],[33,22,26,20],[33,44,26,42],[33,46,26,44,"error"],[33,51,26,49],[33,52,26,50],[34,8,27,6],[34,15,27,13],[35,10,28,8,"success"],[35,17,28,15],[35,19,28,17],[35,24,28,22],[36,10,29,8,"error"],[36,15,29,13],[36,17,29,15],[36,35,29,33,"error"],[36,40,29,38],[36,41,29,39,"message"],[36,48,29,46],[37,8,30,6],[37,9,30,7],[38,6,31,4],[39,6,33,4,"console"],[39,13,33,11],[39,14,33,12,"log"],[39,17,33,15],[39,18,33,16],[39,36,33,34],[39,37,33,35],[40,6,34,4],[40,13,34,11],[41,8,34,13,"success"],[41,15,34,20],[41,17,34,22],[42,6,34,27],[42,7,34,28],[43,4,35,2],[43,5,35,3],[43,6,35,4],[43,13,35,11,"error"],[43,18,35,21],[43,20,35,23],[44,6,36,4,"console"],[44,13,36,11],[44,14,36,12,"error"],[44,19,36,17],[44,20,36,18],[44,45,36,43],[44,47,36,45,"error"],[44,52,36,50],[44,53,36,51],[45,6,37,4],[45,13,37,11],[46,8,37,13,"success"],[46,15,37,20],[46,17,37,22],[46,22,37,27],[47,8,37,29,"error"],[47,13,37,34],[47,15,37,36,"error"],[47,20,37,41],[47,21,37,42,"message"],[48,6,37,50],[48,7,37,51],[49,4,38,2],[50,2,39,0],[52,2,41,0],[53,0,42,0],[54,0,43,0],[55,0,44,0],[56,2,45,7],[56,17,45,22,"uploadShard"],[56,28,45,33,"uploadShard"],[56,29,46,2,"shard"],[56,34,46,14],[56,36,47,2,"userId"],[56,42,47,16],[56,44,48,25],[57,4,49,2],[57,8,49,6],[58,6,50,4],[58,12,50,10,"supabase"],[58,20,50,18],[58,23,50,21],[58,27,50,21,"getSupabase"],[58,46,50,32],[58,47,50,32,"getSupabase"],[58,58,50,32],[58,60,50,33],[58,61,50,34],[60,6,52,4],[61,6,53,4],[61,12,53,10,"filePath"],[61,20,53,18],[61,23,53,21],[61,26,53,24,"userId"],[61,32,53,30],[61,36,53,34,"shard"],[61,41,53,39],[61,42,53,40,"id"],[61,44,53,42],[61,46,53,44],[62,6,55,4,"console"],[62,13,55,11],[62,14,55,12,"log"],[62,17,55,15],[62,18,55,16],[62,37,55,35,"shard"],[62,42,55,40],[62,43,55,41,"id"],[62,45,55,43],[62,52,55,50,"filePath"],[62,60,55,58],[62,78,55,76,"shard"],[62,83,55,81],[62,84,55,82,"data"],[62,88,55,86],[62,89,55,87,"length"],[62,95,55,93],[62,97,55,95],[62,98,55,96],[64,6,57,4],[65,6,58,4],[65,12,58,10,"encoder"],[65,19,58,17],[65,22,58,20],[65,26,58,24,"TextEncoder"],[65,37,58,35],[65,38,58,36],[65,39,58,37],[66,6,59,4],[66,12,59,10,"uint8Array"],[66,22,59,20],[66,25,59,23,"encoder"],[66,32,59,30],[66,33,59,31,"encode"],[66,39,59,37],[66,40,59,38,"shard"],[66,45,59,43],[66,46,59,44,"data"],[66,50,59,48],[66,51,59,49],[67,6,61,4],[67,12,61,10],[68,8,61,12,"data"],[68,12,61,16],[69,8,61,18,"error"],[70,6,61,24],[70,7,61,25],[70,10,61,28],[70,16,61,34,"supabase"],[70,24,61,42],[70,25,61,43,"storage"],[70,32,61,50],[70,33,62,7,"from"],[70,37,62,11],[70,38,62,12,"STORAGE_BUCKET"],[70,57,62,26],[70,58,62,26,"STORAGE_BUCKET"],[70,72,62,26],[70,73,62,27],[70,74,63,7,"upload"],[70,80,63,13],[70,81,63,14,"filePath"],[70,89,63,22],[70,91,63,24,"uint8Array"],[70,101,63,34],[70,103,63,36],[71,8,64,8,"contentType"],[71,19,64,19],[71,21,64,21],[71,47,64,47],[72,8,65,8,"upsert"],[72,14,65,14],[72,16,65,16],[73,6,66,6],[73,7,66,7],[73,8,66,8],[74,6,68,4],[74,10,68,8,"error"],[74,15,68,13],[74,17,68,15],[75,8,69,6,"console"],[75,15,69,13],[75,16,69,14,"error"],[75,21,69,19],[75,22,69,20],[75,43,69,41],[75,45,69,43,"JSON"],[75,49,69,47],[75,50,69,48,"stringify"],[75,59,69,57],[75,60,69,58,"error"],[75,65,69,63],[75,66,69,64],[75,67,69,65],[76,8,70,6],[76,15,70,13],[77,10,70,15,"success"],[77,17,70,22],[77,19,70,24],[77,24,70,29],[78,10,70,31,"error"],[78,15,70,36],[78,17,70,38,"error"],[78,22,70,43],[78,23,70,44,"message"],[79,8,70,52],[79,9,70,53],[80,6,71,4],[81,6,73,4,"console"],[81,13,73,11],[81,14,73,12,"log"],[81,17,73,15],[81,18,73,16],[81,27,73,25,"shard"],[81,32,73,30],[81,33,73,31,"id"],[81,35,73,33],[81,60,73,58],[81,62,73,60,"data"],[81,66,73,64],[81,67,73,65],[82,6,74,4],[82,13,74,11],[83,8,74,13,"success"],[83,15,74,20],[83,17,74,22],[83,21,74,26],[84,8,74,28,"shardId"],[84,15,74,35],[84,17,74,37,"shard"],[84,22,74,42],[84,23,74,43,"id"],[85,6,74,46],[85,7,74,47],[86,4,75,2],[86,5,75,3],[86,6,75,4],[86,13,75,11,"error"],[86,18,75,21],[86,20,75,23],[87,6,76,4,"console"],[87,13,76,11],[87,14,76,12,"error"],[87,19,76,17],[87,20,76,18],[87,45,76,43],[87,47,76,45,"error"],[87,52,76,50],[87,53,76,51],[88,6,77,4],[88,13,77,11],[89,8,77,13,"success"],[89,15,77,20],[89,17,77,22],[89,22,77,27],[90,8,77,29,"error"],[90,13,77,34],[90,15,77,36,"error"],[90,20,77,41],[90,21,77,42,"message"],[90,28,77,49],[90,32,77,53],[91,6,77,69],[91,7,77,70],[92,4,78,2],[93,2,79,0],[95,2,81,0],[96,0,82,0],[97,0,83,0],[98,2,84,7],[98,17,84,22,"uploadAllShards"],[98,32,84,37,"uploadAllShards"],[98,33,85,2,"shards"],[98,39,85,17],[98,41,86,2,"userId"],[98,47,86,16],[98,49,87,2,"onProgress"],[98,59,87,55],[98,61,88,70],[99,4,89,2],[99,10,89,8,"shardIds"],[99,18,89,26],[99,21,89,29],[99,23,89,31],[100,4,91,2,"console"],[100,11,91,9],[100,12,91,10,"log"],[100,15,91,13],[100,16,91,14],[100,38,91,36,"shards"],[100,44,91,42],[100,45,91,43,"length"],[100,51,91,49],[100,71,91,69,"userId"],[100,77,91,75],[100,79,91,77],[100,80,91,78],[101,4,93,2],[101,9,93,7],[101,13,93,11,"i"],[101,14,93,12],[101,17,93,15],[101,18,93,16],[101,20,93,18,"i"],[101,21,93,19],[101,24,93,22,"shards"],[101,30,93,28],[101,31,93,29,"length"],[101,37,93,35],[101,39,93,37,"i"],[101,40,93,38],[101,42,93,40],[101,44,93,42],[102,6,94,4],[102,12,94,10,"result"],[102,18,94,16],[102,21,94,19],[102,27,94,25,"uploadShard"],[102,38,94,36],[102,39,94,37,"shards"],[102,45,94,43],[102,46,94,44,"i"],[102,47,94,45],[102,48,94,46],[102,50,94,48,"userId"],[102,56,94,54],[102,57,94,55],[103,6,96,4],[103,10,96,8],[103,11,96,9,"result"],[103,17,96,15],[103,18,96,16,"success"],[103,25,96,23],[103,27,96,25],[104,8,97,6,"console"],[104,15,97,13],[104,16,97,14,"error"],[104,21,97,19],[104,22,97,20],[104,41,97,39,"i"],[104,42,97,40],[104,45,97,43],[104,46,97,44],[104,64,97,62],[104,65,97,63],[105,8,98,6],[105,14,98,12,"cleanupShards"],[105,27,98,25],[105,28,98,26,"shardIds"],[105,36,98,34],[105,38,98,36,"userId"],[105,44,98,42],[105,45,98,43],[106,8,99,6],[106,15,99,13],[107,10,99,15,"success"],[107,17,99,22],[107,19,99,24],[107,24,99,29],[108,10,99,31,"error"],[108,15,99,36],[108,17,99,38],[108,26,99,47,"i"],[108,27,99,48],[108,30,99,51],[108,31,99,52],[108,35,99,56,"shards"],[108,41,99,62],[108,42,99,63,"length"],[108,48,99,69],[108,60,99,81,"result"],[108,66,99,87],[108,67,99,88,"error"],[108,72,99,93],[109,8,99,96],[109,9,99,97],[110,6,100,4],[111,6,102,4,"shardIds"],[111,14,102,12],[111,15,102,13,"push"],[111,19,102,17],[111,20,102,18,"result"],[111,26,102,24],[111,27,102,25,"shardId"],[111,34,102,33],[111,35,102,34],[112,6,103,4,"onProgress"],[112,16,103,14],[112,19,103,17,"i"],[112,20,103,18],[112,23,103,21],[112,24,103,22],[112,26,103,24,"shards"],[112,32,103,30],[112,33,103,31,"length"],[112,39,103,37],[112,40,103,38],[113,4,104,2],[114,4,106,2,"console"],[114,11,106,9],[114,12,106,10,"log"],[114,15,106,13],[114,16,106,14],[114,51,106,49],[114,53,106,51,"shardIds"],[114,61,106,59],[114,62,106,60],[115,4,107,2],[115,11,107,9],[116,6,107,11,"success"],[116,13,107,18],[116,15,107,20],[116,19,107,24],[117,6,107,26,"shardIds"],[118,4,107,35],[118,5,107,36],[119,2,108,0],[121,2,110,0],[122,0,111,0],[123,0,112,0],[124,2,113,7],[124,17,113,22,"downloadShard"],[124,30,113,35,"downloadShard"],[124,31,114,2,"shardId"],[124,38,114,17],[124,40,115,2,"userId"],[124,46,115,16],[124,48,116,64],[125,4,117,2],[125,8,117,6],[126,6,118,4],[126,12,118,10,"supabase"],[126,20,118,18],[126,23,118,21],[126,27,118,21,"getSupabase"],[126,46,118,32],[126,47,118,32,"getSupabase"],[126,58,118,32],[126,60,118,33],[126,61,118,34],[127,6,119,4],[127,12,119,10,"filePath"],[127,20,119,18],[127,23,119,21],[127,26,119,24,"userId"],[127,32,119,30],[127,36,119,34,"shardId"],[127,43,119,41],[127,45,119,43],[128,6,121,4,"console"],[128,13,121,11],[128,14,121,12,"log"],[128,17,121,15],[128,18,121,16],[128,44,121,42,"filePath"],[128,52,121,50],[128,54,121,52],[128,55,121,53],[129,6,123,4],[129,12,123,10],[130,8,123,12,"data"],[130,12,123,16],[131,8,123,18,"error"],[132,6,123,24],[132,7,123,25],[132,10,123,28],[132,16,123,34,"supabase"],[132,24,123,42],[132,25,123,43,"storage"],[132,32,123,50],[132,33,124,7,"from"],[132,37,124,11],[132,38,124,12,"STORAGE_BUCKET"],[132,57,124,26],[132,58,124,26,"STORAGE_BUCKET"],[132,72,124,26],[132,73,124,27],[132,74,125,7,"download"],[132,82,125,15],[132,83,125,16,"filePath"],[132,91,125,24],[132,92,125,25],[133,6,127,4],[133,10,127,8,"error"],[133,15,127,13],[133,17,127,15],[134,8,128,6,"console"],[134,15,128,13],[134,16,128,14,"error"],[134,21,128,19],[134,22,128,20],[134,45,128,43],[134,47,128,45,"error"],[134,52,128,50],[134,53,128,51],[135,8,129,6],[135,15,129,13],[136,10,129,15,"success"],[136,17,129,22],[136,19,129,24],[136,24,129,29],[137,10,129,31,"error"],[137,15,129,36],[137,17,129,38,"error"],[137,22,129,43],[137,23,129,44,"message"],[138,8,129,52],[138,9,129,53],[139,6,130,4],[140,6,132,4],[140,10,132,8],[140,11,132,9,"data"],[140,15,132,13],[140,17,132,15],[141,8,133,6],[141,15,133,13],[142,10,133,15,"success"],[142,17,133,22],[142,19,133,24],[142,24,133,29],[143,10,133,31,"error"],[143,15,133,36],[143,17,133,38],[144,8,133,57],[144,9,133,58],[145,6,134,4],[147,6,136,4],[148,6,137,4],[148,12,137,10,"text"],[148,16,137,14],[148,19,137,17],[148,25,137,23,"data"],[148,29,137,27],[148,30,137,28,"text"],[148,34,137,32],[148,35,137,33],[148,36,137,34],[149,6,139,4,"console"],[149,13,139,11],[149,14,139,12,"log"],[149,17,139,15],[149,18,139,16],[149,27,139,25,"shardId"],[149,34,139,32],[149,56,139,54,"text"],[149,60,139,58],[149,61,139,59,"length"],[149,67,139,65],[149,69,139,67],[149,70,139,68],[150,6,140,4],[150,13,140,11],[151,8,140,13,"success"],[151,15,140,20],[151,17,140,22],[151,21,140,26],[152,8,140,28,"data"],[152,12,140,32],[152,14,140,34,"text"],[153,6,140,39],[153,7,140,40],[154,4,141,2],[154,5,141,3],[154,6,141,4],[154,13,141,11,"error"],[154,18,141,21],[154,20,141,23],[155,6,142,4,"console"],[155,13,142,11],[155,14,142,12,"error"],[155,19,142,17],[155,20,142,18],[155,47,142,45],[155,49,142,47,"error"],[155,54,142,52],[155,55,142,53],[156,6,143,4],[156,13,143,11],[157,8,143,13,"success"],[157,15,143,20],[157,17,143,22],[157,22,143,27],[158,8,143,29,"error"],[158,13,143,34],[158,15,143,36,"error"],[158,20,143,41],[158,21,143,42,"message"],[158,28,143,49],[158,32,143,53],[159,6,143,71],[159,7,143,72],[160,4,144,2],[161,2,145,0],[163,2,147,0],[164,0,148,0],[165,0,149,0],[166,2,150,7],[166,17,150,22,"downloadAllShards"],[166,34,150,39,"downloadAllShards"],[166,35,151,2,"shardIds"],[166,43,151,20],[166,45,152,2,"indices"],[166,52,152,19],[166,54,153,2,"userId"],[166,60,153,16],[166,62,154,2,"onProgress"],[166,72,154,55],[166,74,155,67],[167,4,156,2],[167,10,156,8,"shards"],[167,16,156,23],[167,19,156,26],[167,21,156,28],[168,4,158,2,"console"],[168,11,158,9],[168,12,158,10,"log"],[168,15,158,13],[168,16,158,14],[168,40,158,38,"shardIds"],[168,48,158,46],[168,49,158,47,"length"],[168,55,158,53],[168,64,158,62],[168,65,158,63],[169,4,160,2],[169,9,160,7],[169,13,160,11,"i"],[169,14,160,12],[169,17,160,15],[169,18,160,16],[169,20,160,18,"i"],[169,21,160,19],[169,24,160,22,"shardIds"],[169,32,160,30],[169,33,160,31,"length"],[169,39,160,37],[169,41,160,39,"i"],[169,42,160,40],[169,44,160,42],[169,46,160,44],[170,6,161,4],[170,12,161,10,"result"],[170,18,161,16],[170,21,161,19],[170,27,161,25,"downloadShard"],[170,40,161,38],[170,41,161,39,"shardIds"],[170,49,161,47],[170,50,161,48,"i"],[170,51,161,49],[170,52,161,50],[170,54,161,52,"userId"],[170,60,161,58],[170,61,161,59],[171,6,163,4],[171,10,163,8],[171,11,163,9,"result"],[171,17,163,15],[171,18,163,16,"success"],[171,25,163,23],[171,27,163,25],[172,8,164,6],[172,15,164,13],[173,10,164,15,"success"],[173,17,164,22],[173,19,164,24],[173,24,164,29],[174,10,164,31,"error"],[174,15,164,36],[174,17,164,38],[174,45,164,66,"i"],[174,46,164,67],[174,49,164,70],[174,50,164,71],[174,55,164,76,"result"],[174,61,164,82],[174,62,164,83,"error"],[174,67,164,88],[175,8,164,91],[175,9,164,92],[176,6,165,4],[177,6,167,4,"shards"],[177,12,167,10],[177,13,167,11,"push"],[177,17,167,15],[177,18,167,16],[178,8,168,6,"id"],[178,10,168,8],[178,12,168,10,"shardIds"],[178,20,168,18],[178,21,168,19,"i"],[178,22,168,20],[178,23,168,21],[179,8,169,6,"data"],[179,12,169,10],[179,14,169,12,"result"],[179,20,169,18],[179,21,169,19,"data"],[179,25,169,24],[180,8,170,6,"index"],[180,13,170,11],[180,15,170,13,"indices"],[180,22,170,20],[180,23,170,21,"i"],[180,24,170,22],[181,6,171,4],[181,7,171,5],[181,8,171,6],[182,6,173,4,"onProgress"],[182,16,173,14],[182,19,173,17,"i"],[182,20,173,18],[182,23,173,21],[182,24,173,22],[182,26,173,24,"shardIds"],[182,34,173,32],[182,35,173,33,"length"],[182,41,173,39],[182,42,173,40],[183,4,174,2],[184,4,176,2,"console"],[184,11,176,9],[184,12,176,10,"log"],[184,15,176,13],[184,16,176,14],[184,52,176,50],[184,53,176,51],[185,4,177,2],[185,11,177,9],[186,6,177,11,"success"],[186,13,177,18],[186,15,177,20],[186,19,177,24],[187,6,177,26,"shards"],[188,4,177,33],[188,5,177,34],[189,2,178,0],[191,2,180,0],[192,0,181,0],[193,0,182,0],[194,2,183,7],[194,17,183,22,"cleanupShards"],[194,30,183,35,"cleanupShards"],[194,31,184,2,"shardIds"],[194,39,184,20],[194,41,185,2,"userId"],[194,47,185,16],[194,49,186,17],[195,4,187,2],[195,8,187,6],[196,6,188,4],[196,12,188,10,"supabase"],[196,20,188,18],[196,23,188,21],[196,27,188,21,"getSupabase"],[196,46,188,32],[196,47,188,32,"getSupabase"],[196,58,188,32],[196,60,188,33],[196,61,188,34],[197,6,189,4],[197,12,189,10,"filePaths"],[197,21,189,19],[197,24,189,22,"shardIds"],[197,32,189,30],[197,33,189,31,"map"],[197,36,189,34],[197,37,189,35,"id"],[197,39,189,37],[197,43,189,41],[197,46,189,44,"userId"],[197,52,189,50],[197,56,189,54,"id"],[197,58,189,56],[197,60,189,58],[197,61,189,59],[198,6,190,4],[198,12,190,10,"supabase"],[198,20,190,18],[198,21,190,19,"storage"],[198,28,190,26],[198,29,190,27,"from"],[198,33,190,31],[198,34,190,32,"STORAGE_BUCKET"],[198,53,190,46],[198,54,190,46,"STORAGE_BUCKET"],[198,68,190,46],[198,69,190,47],[198,70,190,48,"remove"],[198,76,190,54],[198,77,190,55,"filePaths"],[198,86,190,64],[198,87,190,65],[199,4,191,2],[199,5,191,3],[199,6,191,4],[199,13,191,11,"error"],[199,18,191,16],[199,20,191,18],[200,6,192,4,"console"],[200,13,192,11],[200,14,192,12,"error"],[200,19,192,17],[200,20,192,18],[200,47,192,45],[200,49,192,47,"error"],[200,54,192,52],[200,55,192,53],[201,4,193,2],[202,2,194,0],[204,2,196,0],[205,0,197,0],[206,0,198,0],[207,2,199,7],[207,17,199,22,"deleteDocumentShards"],[207,37,199,42,"deleteDocumentShards"],[207,38,200,2,"shardIds"],[207,46,200,20],[207,48,201,2,"userId"],[207,54,201,16],[207,56,202,49],[208,4,203,2],[208,8,203,6],[209,6,204,4],[209,12,204,10,"supabase"],[209,20,204,18],[209,23,204,21],[209,27,204,21,"getSupabase"],[209,46,204,32],[209,47,204,32,"getSupabase"],[209,58,204,32],[209,60,204,33],[209,61,204,34],[210,6,205,4],[210,12,205,10,"filePaths"],[210,21,205,19],[210,24,205,22,"shardIds"],[210,32,205,30],[210,33,205,31,"map"],[210,36,205,34],[210,37,205,35,"id"],[210,39,205,37],[210,43,205,41],[210,46,205,44,"userId"],[210,52,205,50],[210,56,205,54,"id"],[210,58,205,56],[210,60,205,58],[210,61,205,59],[211,6,206,4],[211,12,206,10],[212,8,206,12,"error"],[213,6,206,18],[213,7,206,19],[213,10,206,22],[213,16,206,28,"supabase"],[213,24,206,36],[213,25,206,37,"storage"],[213,32,206,44],[213,33,206,45,"from"],[213,37,206,49],[213,38,206,50,"STORAGE_BUCKET"],[213,57,206,64],[213,58,206,64,"STORAGE_BUCKET"],[213,72,206,64],[213,73,206,65],[213,74,206,66,"remove"],[213,80,206,72],[213,81,206,73,"filePaths"],[213,90,206,82],[213,91,206,83],[214,6,208,4],[214,10,208,8,"error"],[214,15,208,13],[214,17,208,15],[215,8,209,6],[215,15,209,13],[216,10,209,15,"success"],[216,17,209,22],[216,19,209,24],[216,24,209,29],[217,10,209,31,"error"],[217,15,209,36],[217,17,209,38,"error"],[217,22,209,43],[217,23,209,44,"message"],[218,8,209,52],[218,9,209,53],[219,6,210,4],[220,6,212,4],[220,13,212,11],[221,8,212,13,"success"],[221,15,212,20],[221,17,212,22],[222,6,212,27],[222,7,212,28],[223,4,213,2],[223,5,213,3],[223,6,213,4],[223,13,213,11,"error"],[223,18,213,21],[223,20,213,23],[224,6,214,4],[224,13,214,11],[225,8,214,13,"success"],[225,15,214,20],[225,17,214,22],[225,22,214,27],[226,8,214,29,"error"],[226,13,214,34],[226,15,214,36,"error"],[226,20,214,41],[226,21,214,42,"message"],[226,28,214,49],[226,32,214,53],[227,6,214,69],[227,7,214,70],[228,4,215,2],[229,2,216,0],[230,0,216,1],[230,3]],"functionMap":{"names":["<global>","checkBucketAccess","uploadShard","uploadAllShards","downloadShard","downloadAllShards","cleanupShards","shardIds.map$argument_0","deleteDocumentShards"],"mappings":"AAA;OCgB;CDsB;OEM;CFkC;OGK;CHwB;OIK;CJgC;OKK;CL4B;OMK;mCCM,uBD;CNK;OQK;mCDM,uBC;CRW"},"hasCjsExports":false},"type":"js/module"}]}